(window["webpackJsonpreact-mernstack-crud"]=window["webpackJsonpreact-mernstack-crud"]||[]).push([[0],{140:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(27),r=a.n(l),i=a(16),c=(a(80),a(47)),s=a.n(c),u=a(45),m=a.n(u),h=a(46),d=a.n(h),E=a(74),p=a.n(E),b=a(41),v=a.n(b),g=(a(81),a(82),a(83),a(28)),f=a(36),C=function(){localStorage.clear(),window.location.href="/"};function S(){var e="Administrador"===JSON.parse(localStorage.getItem("token")).usuario.tipo,t="Mecanico"===JSON.parse(localStorage.getItem("token")).usuario.tipo,a="Planta"===JSON.parse(localStorage.getItem("token")).usuario.tipo,n=JSON.parse(localStorage.getItem("token")).usuario._id,l="/agenda/mecanico/"+n,r="/citas/mecanico/"+n;return e?o.a.createElement(f.slide,null,o.a.createElement("a",{id:"servicios",className:"menu-item",href:"/servicios"},"Servicios"),o.a.createElement("a",{id:"citas",className:"menu-item",href:"/citas"},"Citas"),o.a.createElement("a",{id:"usuarios",className:"menu-item",href:"/usuarios"},"Usuarios"),o.a.createElement("a",{id:"mecanicos",className:"menu-item",href:"/mecanicos"},"Mecanicos"),o.a.createElement("a",{id:"agenda",className:"menu-item",href:"/agenda"},"Agenda"),o.a.createElement("a",{id:"reportes",className:"menu-item",href:"/reportes"},"Reportes"),o.a.createElement("a",{id:"cerrar",className:"menu-item",href:"/",onClick:C},"Cerrar Sesion")):t?o.a.createElement(f.slide,null,o.a.createElement("a",{id:"misservicios",className:"menu-item",href:r},"Mis servicios"),o.a.createElement("a",{id:"agenda",className:"menu-item",href:l},"Mi agenda"),o.a.createElement("a",{id:"cerrar",className:"menu-item",href:"/",onClick:C},"Cerrar Sesion")):a?o.a.createElement(f.slide,null,o.a.createElement("a",{id:"servicios",className:"menu-item",href:"/servicios"},"Servicios"),o.a.createElement("a",{id:"citas",className:"menu-item",href:"/citas"},"Citas"),o.a.createElement("a",{id:"agenda",className:"menu-item",href:"/agenda"},"Agenda"),o.a.createElement("a",{id:"reportes",className:"menu-item",href:"/reportes"},"Reportes"),o.a.createElement("a",{id:"cerrar",className:"menu-item",href:"/",onClick:C},"Cerrar Sesion")):void 0}var j=a(5),k=a(6),O=a(8),y=a(7),D=a(2),N=a(9),w=a(1),T=a.n(w),F=a(14),I=a.n(F),U=a(3),L=a.n(U),_=a(4),x=a.n(_),P=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeNombreUsuario=a.onChangeNombreUsuario.bind(Object(D.a)(a)),a.onChangeEmailUsuario=a.onChangeEmailUsuario.bind(Object(D.a)(a)),a.onChangeCedulaUsuario=a.onChangeCedulaUsuario.bind(Object(D.a)(a)),a.onChangeTelefonoUsuario=a.onChangeTelefonoUsuario.bind(Object(D.a)(a)),a.onChangeFechaUsuario=a.onChangeFechaUsuario.bind(Object(D.a)(a)),a.onChangePasswordUsuario1=a.onChangePasswordUsuario1.bind(Object(D.a)(a)),a.onChangePasswordUsuario2=a.onChangePasswordUsuario2.bind(Object(D.a)(a)),a.onChangeTipoUsuario=a.onChangeTipoUsuario.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={nombre:"",email:"",cedula:"",telefono:"",fechanacimiento:"",password:"",password2:"",tipo:"",errors:{}},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"onChangeNombreUsuario",value:function(e){this.setState({nombre:e.target.value})}},{key:"onChangeCedulaUsuario",value:function(e){this.setState({cedula:e.target.value})}},{key:"onChangeTelefonoUsuario",value:function(e){this.setState({telefono:e.target.value})}},{key:"onChangeFechaUsuario",value:function(e){this.setState({fechanacimiento:e.target.value})}},{key:"onChangePasswordUsuario1",value:function(e){var t={password2:""};e.target.value!==this.state.password2&&(t.password2="Las contrase\xf1as deben ser iguales."),this.setState({errors:t}),this.setState({password:e.target.value})}},{key:"onChangePasswordUsuario2",value:function(e){var t={password2:""};e.target.value!==this.state.password&&(t.password2="Las contrase\xf1as deben ser iguales."),this.setState({errors:t}),this.setState({password2:e.target.value})}},{key:"onChangeEmailUsuario",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeTipoUsuario",value:function(e){this.setState({tipo:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=new Date,a={nombre:this.state.nombre,email:this.state.email,cedula:this.state.cedula,telefono:this.state.telefono,fechanacimiento:this.state.fechanacimiento,password:this.state.password,tipo:this.state.tipo,creado:t,actualizado:t};L.a.post("http://localhost:4000/usuarios/crear-usuario",a).then(function(e){return console.log(e.data)}),alert("Usuario creado con exito"),this.setState({nombre:"",email:"",cedula:"",telefono:"",fechanacimiento:"",password:"",password2:"",tipo:"",errors:{}})}},{key:"render",value:function(){return o.a.createElement("div",{className:"form-wrapper"},o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Crear usuario"))))),o.a.createElement(T.a,{onSubmit:this.onSubmit},o.a.createElement(T.a.Group,{controlId:"Nombre"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Nombre")),o.a.createElement(T.a.Control,{type:"text",value:this.state.nombre,onChange:this.onChangeNombreUsuario,required:!0})),o.a.createElement(T.a.Group,{controlId:"Cedula"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Cedula")),o.a.createElement(T.a.Control,{type:"number",value:this.state.cedula,onChange:this.onChangeCedulaUsuario,required:!0})),o.a.createElement(T.a.Group,{controlId:"Telefono"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Telefono")),o.a.createElement(T.a.Control,{type:"number",value:this.state.telefono,onChange:this.onChangeTelefonoUsuario,required:!0})),o.a.createElement(T.a.Group,{controlId:"Email"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Email")),o.a.createElement(T.a.Control,{type:"email",value:this.state.email,onChange:this.onChangeEmailUsuario,required:!0})),o.a.createElement(T.a.Group,{controlId:"Fecha"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Fecha nacimiento")),o.a.createElement(T.a.Control,{type:"Date",value:this.state.fechanacimiento,onChange:this.onChangeFechaUsuario,required:!0})),o.a.createElement(T.a.Group,{controlId:"Password1"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Contrase\xf1a")),o.a.createElement(T.a.Control,{type:"password",value:this.state.password,onChange:this.onChangePasswordUsuario1,required:!0})),o.a.createElement(T.a.Group,{controlId:"Password2"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Repetir contrase\xf1a")),o.a.createElement(T.a.Control,{type:"password",value:this.state.password2,onChange:this.onChangePasswordUsuario2,required:!0}),o.a.createElement("div",{className:"text-danger"},this.state.errors.password2)),o.a.createElement(T.a.Group,{controlId:"Tipo"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Tipo"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesTipo",id:"Planta",value:"Planta",checked:"Planta"===this.state.tipo,onChange:this.onChangeTipoUsuario,required:!0}),o.a.createElement("label",{className:"form-check-label"},"Planta")),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesTipo",id:"Mecanico",value:"Mecanico",checked:"Mecanico"===this.state.tipo,onChange:this.onChangeTipoUsuario}),o.a.createElement("label",{className:"form-check-label"},"Mecanico")),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesTipo",id:"Administrador",value:"Administrador",checked:"Administrador"===this.state.tipo,onChange:this.onChangeTipoUsuario}),o.a.createElement("label",{className:"form-check-label"},"Administrador"))),o.a.createElement(I.a,{variant:"danger",size:"lg",block:"block",type:"submit"},"Crear Usuario")))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeNombreUsuario=a.onChangeNombreUsuario.bind(Object(D.a)(a)),a.onChangeEmailUsuario=a.onChangeEmailUsuario.bind(Object(D.a)(a)),a.onChangeCedulaUsuario=a.onChangeCedulaUsuario.bind(Object(D.a)(a)),a.onChangeTelefonoUsuario=a.onChangeTelefonoUsuario.bind(Object(D.a)(a)),a.onChangeFechaUsuario=a.onChangeFechaUsuario.bind(Object(D.a)(a)),a.onChangePasswordUsuario1=a.onChangePasswordUsuario1.bind(Object(D.a)(a)),a.onChangePasswordUsuario2=a.onChangePasswordUsuario2.bind(Object(D.a)(a)),a.onChangeTipoUsuario=a.onChangeTipoUsuario.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={nombre:"",email:"",cedula:"",telefono:"",fechanacimiento:"",password:"",password2:"",tipo:"",errors:{}},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;L.a.get("http://localhost:4000/usuarios/editar-usuario/"+this.props.match.params.id).then(function(t){e.setState({nombre:t.data.nombre,email:t.data.email,cedula:t.data.cedula,telefono:t.data.telefono,fechanacimiento:t.data.fechanacimiento.split("T")[0],tipo:t.data.tipo})}).catch(function(e){console.log(e)})}},{key:"onChangeNombreUsuario",value:function(e){this.setState({nombre:e.target.value})}},{key:"onChangeCedulaUsuario",value:function(e){this.setState({cedula:e.target.value})}},{key:"onChangeTelefonoUsuario",value:function(e){this.setState({telefono:e.target.value})}},{key:"onChangeFechaUsuario",value:function(e){this.setState({fechanacimiento:e.target.value})}},{key:"onChangePasswordUsuario1",value:function(e){var t={password2:""};e.target.value!==this.state.password2&&(t.password2="Las contrase\xf1as deben ser iguales."),this.setState({errors:t}),this.setState({password:e.target.value})}},{key:"onChangePasswordUsuario2",value:function(e){var t={password2:""};e.target.value!==this.state.password&&(t.password2="Las contrase\xf1as deben ser iguales."),this.setState({errors:t}),this.setState({password2:e.target.value})}},{key:"onChangeEmailUsuario",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeTipoUsuario",value:function(e){this.setState({tipo:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=new Date,a={nombre:this.state.nombre,email:this.state.email,cedula:this.state.cedula,telefono:this.state.telefono,fechanacimiento:this.state.fechanacimiento,password:this.state.password,tipo:this.state.tipo,actualizado:t};L.a.put("http://localhost:4000/usuarios/editar-usuario/"+this.props.match.params.id,a).then(function(e){alert("Usuario editado con exito"),window.location.reload()}).catch(function(e){console.log(e)}),this.props.history.push("/usuarios")}},{key:"render",value:function(){return o.a.createElement("div",{className:"form-wrapper"},o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Editar usuario"))))),o.a.createElement(T.a,{onSubmit:this.onSubmit},o.a.createElement(T.a.Group,{controlId:"Nombre"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Nombre")),o.a.createElement(T.a.Control,{type:"text",value:this.state.nombre,onChange:this.onChangeNombreUsuario})),o.a.createElement(T.a.Group,{controlId:"Cedula"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Cedula")),o.a.createElement(T.a.Control,{type:"number",value:this.state.cedula,onChange:this.onChangeCedulaUsuario,required:!0})),o.a.createElement(T.a.Group,{controlId:"Telefono"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Telefono")),o.a.createElement(T.a.Control,{type:"number",value:this.state.telefono,onChange:this.onChangeTelefonoUsuario,required:!0})),o.a.createElement(T.a.Group,{controlId:"Email"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Email")),o.a.createElement(T.a.Control,{type:"email",value:this.state.email,onChange:this.onChangeEmailUsuario,required:!0})),o.a.createElement(T.a.Group,{controlId:"Fecha"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Fecha nacimiento")),o.a.createElement(T.a.Control,{type:"Date",value:this.state.fechanacimiento,onChange:this.onChangeFechaUsuario,required:!0})),o.a.createElement(T.a.Group,{controlId:"Password1"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Contrase\xf1a")),o.a.createElement(T.a.Control,{type:"password",value:this.state.password,onChange:this.onChangePasswordUsuario1,required:!0})),o.a.createElement(T.a.Group,{controlId:"Password2"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Repetir contrase\xf1a")),o.a.createElement(T.a.Control,{type:"password",value:this.state.password2,onChange:this.onChangePasswordUsuario2,required:!0}),o.a.createElement("div",{className:"text-danger"},this.state.errors.password2)),o.a.createElement(T.a.Group,{controlId:"Tipo"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Tipo"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesTipo",id:"Planta",value:"Planta",checked:"Planta"===this.state.tipo,onChange:this.onChangeTipoUsuario,required:!0}),o.a.createElement("label",{className:"form-check-label"},"Planta")),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesTipo",id:"Mecanico",value:"Mecanico",checked:"Mecanico"===this.state.tipo,onChange:this.onChangeTipoUsuario}),o.a.createElement("label",{className:"form-check-label"},"Mecanico")),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesTipo",id:"Administrador",value:"Administrador",checked:"Administrador"===this.state.tipo,onChange:this.onChangeTipoUsuario}),o.a.createElement("label",{className:"form-check-label"},"Administrador"))),o.a.createElement(I.a,{variant:"danger",size:"lg",block:"block",type:"submit"},"Editar Usuario")))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).borrarUsuario=a.borrarUsuario.bind(Object(D.a)(a)),a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"borrarUsuario",value:function(){window.confirm("Esta seguro de borrar el usuario?")&&L.a.delete("http://localhost:4000/usuarios/borrar-usuario/"+this.props.obj._id).then(function(e){console.log("Usuario borrado con exito!"),window.location.reload()}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e="Mecanico"===this.props.obj.tipo,t="Administrador"===JSON.parse(localStorage.getItem("token")).usuario.tipo;return o.a.createElement("tr",null,o.a.createElement("td",null,this.props.obj.nombre),o.a.createElement("td",null,this.props.obj.email),o.a.createElement("td",null,this.props.obj.telefono),o.a.createElement("td",null,this.props.obj.cedula),o.a.createElement("td",null,this.props.obj.tipo),o.a.createElement("td",null,e?o.a.createElement(i.b,{className:"btn btn-primary",to:"/agenda/mecanico/"+this.props.obj._id},"Agenda"):o.a.createElement("div",null),o.a.createElement(i.b,{className:"btn btn-success",to:"/editar-usuario/"+this.props.obj._id},"Editar"),t?o.a.createElement(I.a,{onClick:this.borrarUsuario,className:"btn btn-danger",variant:"danger"},"Borrar"):o.a.createElement("div",null)))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeTipoFiltro=a.onChangeTipoFiltro.bind(Object(D.a)(a)),a.onChangeCadenaFiltro=a.onChangeCadenaFiltro.bind(Object(D.a)(a)),a.state={textobuscar:"",filtrobuscar:"nombre",usuarios:[],filtrados:[]},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"ejecutaFiltro",value:function(e,t){""!==e?this.setState({filtrados:this.state.usuarios.filter(function(a){return a[t].toString().toLowerCase().indexOf(e.toString().toLowerCase())>-1})}):this.setState({filtrados:this.state.usuarios})}},{key:"onChangeCadenaFiltro",value:function(e){this.setState({textobuscar:e.target.value}),this.ejecutaFiltro(e.target.value,this.state.filtrobuscar)}},{key:"onChangeTipoFiltro",value:function(e){this.setState({filtrobuscar:e.target.value}),this.ejecutaFiltro(this.state.textobuscar,e.target.value)}},{key:"componentDidMount",value:function(){var e=this;L.a.get("http://localhost:4000/usuarios/").then(function(t){e.setState({usuarios:t.data,filtrados:t.data})}).catch(function(e){console.log(e)})}},{key:"DataTable",value:function(){return this.state.filtrados.map(function(e,t){return o.a.createElement(A,{obj:e,key:t})})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Usuarios")),o.a.createElement("th",{className:"contenedor"},o.a.createElement("h1",null,o.a.createElement(i.b,{className:"btn btn-info lado-derecho centrado-link",to:"/crear-usuario/"},"Nuevo")))))),o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(T.a.Group,{controlId:"Descripcion"},o.a.createElement(T.a.Control,{placeholder:"Buscar",type:"text",value:this.state.textobuscar,onChange:this.onChangeCadenaFiltro}))),o.a.createElement("td",null,o.a.createElement(T.a.Control,{as:"select",value:this.state.filtrobuscar,onChange:this.onChangeTipoFiltro},o.a.createElement("option",{value:"nombre"},"Nombre"),o.a.createElement("option",{value:"email"},"Email"),o.a.createElement("option",{value:"telefono"},"Telefono"),o.a.createElement("option",{value:"cedula"},"Cedula"),o.a.createElement("option",{value:"tipo"},"Tipo")))))),o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Nombre"),o.a.createElement("th",null,"Email"),o.a.createElement("th",null,"Telefono"),o.a.createElement("th",null,"Cedula"),o.a.createElement("th",null,"Tipo"),o.a.createElement("th",null,"Accion"))),o.a.createElement("tbody",null,this.DataTable())))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeTipoFiltro=a.onChangeTipoFiltro.bind(Object(D.a)(a)),a.onChangeCadenaFiltro=a.onChangeCadenaFiltro.bind(Object(D.a)(a)),a.state={textobuscar:"",filtrobuscar:"nombre",usuarios:[],filtrados:[]},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"ejecutaFiltro",value:function(e,t){""!==e?this.setState({filtrados:this.state.usuarios.filter(function(a){return a[t].toString().toLowerCase().indexOf(e.toString().toLowerCase())>-1})}):this.setState({filtrados:this.state.usuarios})}},{key:"onChangeCadenaFiltro",value:function(e){this.setState({textobuscar:e.target.value}),this.ejecutaFiltro(e.target.value,this.state.filtrobuscar)}},{key:"onChangeTipoFiltro",value:function(e){this.setState({filtrobuscar:e.target.value}),this.ejecutaFiltro(this.state.textobuscar,e.target.value)}},{key:"componentDidMount",value:function(){var e=this;L.a.get("http://localhost:4000/usuarios/mecanicos/").then(function(t){e.setState({usuarios:t.data,filtrados:t.data})}).catch(function(e){console.log(e)})}},{key:"DataTable",value:function(){return this.state.filtrados.map(function(e,t){return o.a.createElement(A,{obj:e,key:t})})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Mecanicos")),o.a.createElement("th",{className:"contenedor"},o.a.createElement("h1",null,o.a.createElement(i.b,{className:"btn btn-info lado-derecho centrado-link",to:"/crear-mecanico/"},"Nuevo")))))),o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(T.a.Group,{controlId:"Descripcion"},o.a.createElement(T.a.Control,{placeholder:"Buscar",type:"text",value:this.state.textobuscar,onChange:this.onChangeCadenaFiltro}))),o.a.createElement("td",null,o.a.createElement(T.a.Control,{as:"select",value:this.state.filtrobuscar,onChange:this.onChangeTipoFiltro},o.a.createElement("option",{value:"nombre"},"Nombre"),o.a.createElement("option",{value:"email"},"Email"),o.a.createElement("option",{value:"telefono"},"Telefono"),o.a.createElement("option",{value:"cedula"},"Cedula"),o.a.createElement("option",{value:"tipo"},"Tipo")))))),o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Nombre"),o.a.createElement("th",null,"Email"),o.a.createElement("th",null,"Telefono"),o.a.createElement("th",null,"Cedula"),o.a.createElement("th",null,"Tipo"),o.a.createElement("th",null,"Accion"))),o.a.createElement("tbody",null,this.DataTable())))}}]),t}(n.Component),H=a(26);a(39);var R={"Revisi\xf3n de frenos":"0",Pastillas:"1",Discos:"2","Suspensi\xf3n":"3",Amortiguadores:"4","Cambio de aceite":"5","Alineaci\xf3n":"6","Rotaci\xf3n de llantas":"7"},J={0:"rgba(102, 195, 131 , 1)",1:"rgba(242, 177, 52, 1)",2:"rgba(235, 85, 59, 1)",3:"rgba(102, 102, 255, 1)",4:"rgba(102, 255, 102, 1)",5:"rgba(255, 255, 102, 1)",6:"rgba(255, 153, 51, 1)",7:"rgba(102, 255, 178, 1)"},z=new Date,B=[],V=window.location.host;console.log(V);var Y=function(e){function t(e){var a;return Object(j.a)(this,t),a=Object(O.a)(this,Object(y.a)(t).call(this,e)),L.a.get("http://localhost:4000/citas/").then(function(e){for(var t=e.data,n=[],o=0;o<t.length;o++){var l=t[o].fecha;l=(l=l.split("T"))[0].split("-");var r=new Date(l[0],l[1]-1,l[2],t[o].hora),i=new Date(l[0],l[1]-1,l[2],parseInt(t[o].hora)+parseInt(t[o].servicio.duracionhoras)),c={_id:Object(H.guid)(),id:t[o]._id,name:t[o].servicio.nombre+": "+t[o].mecanico.nombre+", "+t[o].estado,startDateTime:r,endDateTime:i,classes:R[t[o].servicio.nombre]};n.push(c)}a.setState({items:n})}).catch(function(e){console.log(e)}),a.state={items:B,selected:[],cellHeight:30,showModal:!1,locale:"es",rowsPerHour:2,numberOfDays:5,startDate:new Date},a.handleCellSelection=a.handleCellSelection.bind(Object(D.a)(a)),a.handleItemEdit=a.handleItemEdit.bind(Object(D.a)(a)),a.handleRangeSelection=a.handleRangeSelection.bind(Object(D.a)(a)),a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"handleCellSelection",value:function(e){console.log("handleCellSelection",e)}},{key:"handleItemEdit",value:function(e){window.location.href="/editar-cita/"+e.id}},{key:"handleRangeSelection",value:function(e){console.log("handleRangeSelection",e)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Agenda general ",V))))),o.a.createElement(H.ReactAgenda,{minDate:new Date(z.getFullYear(),z.getMonth()-3,z.getDate()),maxDate:new Date(z.getFullYear(),z.getMonth()+3,z.getDate()),disablePrevButton:!1,startDate:this.state.startDate,cellHeight:this.state.cellHeight,locale:this.state.locale,items:this.state.items,numberOfDays:this.state.numberOfDays,rowsPerHour:this.state.rowsPerHour,itemColors:J,autoScale:!1,fixedHeader:!0,onItemEdit:this.handleItemEdit.bind(this),onCellSelect:this.handleCellSelection.bind(this),onRangeSelection:this.handleRangeSelection.bind(this)}))}}]),t}(o.a.Component);a(39);var W={"Revisi\xf3n de frenos":"0",Pastillas:"1",Discos:"2","Suspensi\xf3n":"3",Amortiguadores:"4","Cambio de aceite":"5","Alineaci\xf3n":"6","Rotaci\xf3n de llantas":"7"},$={0:"rgba(102, 195, 131 , 1)",1:"rgba(242, 177, 52, 1)",2:"rgba(235, 85, 59, 1)",3:"rgba(102, 102, 255, 1)",4:"rgba(102, 255, 102, 1)",5:"rgba(255, 255, 102, 1)",6:"rgba(255, 153, 51, 1)",7:"rgba(102, 255, 178, 1)"},K=new Date,Q=[],X=function(e){function t(e){var a;return Object(j.a)(this,t),a=Object(O.a)(this,Object(y.a)(t).call(this,e)),L.a.get("http://localhost:4000/citas/servicio/"+a.props.match.params.id).then(function(e){console.log(e.data);var t=e.data,n=[];a.setState({nombre:"esta vacia"});for(var o=0;o<t.length;o++){var l=t[o].fecha;a.setState({nombre:t[o].servicio.nombre}),l=(l=l.split("T"))[0].split("-");var r=new Date(l[0],l[1]-1,l[2],t[o].hora),i=new Date(l[0],l[1]-1,l[2],parseInt(t[o].hora)+parseInt(t[o].servicio.duracionhoras)),c={_id:Object(H.guid)(),id:t[o]._id,name:t[o].servicio.nombre+": "+t[o].mecanico.nombre+", "+t[o].estado,startDateTime:r,endDateTime:i,classes:W[t[o].servicio.nombre]};n.push(c)}a.setState({items:n})}).catch(function(e){console.log(e)}),a.state={items:Q,nombre:"",selected:[],cellHeight:30,showModal:!1,locale:"es",rowsPerHour:2,numberOfDays:5,startDate:new Date},a.handleCellSelection=a.handleCellSelection.bind(Object(D.a)(a)),a.handleItemEdit=a.handleItemEdit.bind(Object(D.a)(a)),a.handleRangeSelection=a.handleRangeSelection.bind(Object(D.a)(a)),a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"handleCellSelection",value:function(e){console.log("handleCellSelection",e)}},{key:"handleItemEdit",value:function(e){window.location.href="/editar-cita/"+e.id}},{key:"handleRangeSelection",value:function(e){console.log("handleRangeSelection",e)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Agenda servicio: ",this.state.nombre))))),o.a.createElement(H.ReactAgenda,{minDate:new Date(K.getFullYear(),K.getMonth()-3,K.getDate()),maxDate:new Date(K.getFullYear(),K.getMonth()+3,K.getDate()),disablePrevButton:!1,startDate:this.state.startDate,cellHeight:this.state.cellHeight,locale:this.state.locale,items:this.state.items,numberOfDays:this.state.numberOfDays,rowsPerHour:this.state.rowsPerHour,itemColors:$,autoScale:!1,fixedHeader:!0,onItemEdit:this.handleItemEdit.bind(this),onCellSelect:this.handleCellSelection.bind(this),onRangeSelection:this.handleRangeSelection.bind(this)}))}}]),t}(o.a.Component);a(39);var Z={"Revisi\xf3n de frenos":"0",Pastillas:"1",Discos:"2","Suspensi\xf3n":"3",Amortiguadores:"4","Cambio de aceite":"5","Alineaci\xf3n":"6","Rotaci\xf3n de llantas":"7"},ee={0:"rgba(102, 195, 131 , 1)",1:"rgba(242, 177, 52, 1)",2:"rgba(235, 85, 59, 1)",3:"rgba(102, 102, 255, 1)",4:"rgba(102, 255, 102, 1)",5:"rgba(255, 255, 102, 1)",6:"rgba(255, 153, 51, 1)",7:"rgba(102, 255, 178, 1)"},te=new Date,ae=[],ne=function(e){function t(e){var a;return Object(j.a)(this,t),a=Object(O.a)(this,Object(y.a)(t).call(this,e)),L.a.get("http://localhost:4000/citas/mecanico/"+a.props.match.params.id).then(function(e){var t=e.data,n=[];a.setState({nombre:"esta vacia"});for(var o=0;o<t.length;o++){var l=t[o].fecha;a.setState({nombre:t[o].mecanico.nombre}),l=(l=l.split("T"))[0].split("-");var r=new Date(l[0],l[1]-1,l[2],t[o].hora),i=new Date(l[0],l[1]-1,l[2],parseInt(t[o].hora)+parseInt(t[o].servicio.duracionhoras)),c={_id:Object(H.guid)(),id:t[o]._id,name:t[o].servicio.nombre+": "+t[o].mecanico.nombre+", "+t[o].estado,startDateTime:r,endDateTime:i,classes:Z[t[o].servicio.nombre]};n.push(c)}a.setState({items:n})}).catch(function(e){console.log(e)}),a.state={items:ae,nombre:"",selected:[],cellHeight:30,showModal:!1,locale:"es",rowsPerHour:2,numberOfDays:5,startDate:new Date},a.handleCellSelection=a.handleCellSelection.bind(Object(D.a)(a)),a.handleItemEdit=a.handleItemEdit.bind(Object(D.a)(a)),a.handleRangeSelection=a.handleRangeSelection.bind(Object(D.a)(a)),a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"handleCellSelection",value:function(e){console.log("handleCellSelection",e)}},{key:"handleItemEdit",value:function(e){window.location.href="/editar-cita/"+e.id}},{key:"handleRangeSelection",value:function(e){console.log("handleRangeSelection",e)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Agenda mecanico: ",this.state.nombre))))),o.a.createElement(H.ReactAgenda,{minDate:new Date(te.getFullYear(),te.getMonth()-3,te.getDate()),maxDate:new Date(te.getFullYear(),te.getMonth()+3,te.getDate()),disablePrevButton:!1,startDate:this.state.startDate,cellHeight:this.state.cellHeight,locale:this.state.locale,items:this.state.items,numberOfDays:this.state.numberOfDays,rowsPerHour:this.state.rowsPerHour,itemColors:ee,autoScale:!1,fixedHeader:!0,onItemEdit:this.handleItemEdit.bind(this),onCellSelect:this.handleCellSelection.bind(this),onRangeSelection:this.handleRangeSelection.bind(this)}))}}]),t}(o.a.Component),oe=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeNombreServicio=a.onChangeNombreServicio.bind(Object(D.a)(a)),a.onChangeEstadoServicio=a.onChangeEstadoServicio.bind(Object(D.a)(a)),a.onChangeDescripcionServicio=a.onChangeDescripcionServicio.bind(Object(D.a)(a)),a.onChangeCostoServicio=a.onChangeCostoServicio.bind(Object(D.a)(a)),a.onChangeDuracionhorasServicio=a.onChangeDuracionhorasServicio.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={nombre:"",estado:"",descripcion:"",costo:"",duracionhoras:""},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"onChangeNombreServicio",value:function(e){this.setState({nombre:e.target.value})}},{key:"onChangeEstadoServicio",value:function(e){this.setState({estado:e.target.value})}},{key:"onChangeDescripcionServicio",value:function(e){this.setState({descripcion:e.target.value})}},{key:"onChangeCostoServicio",value:function(e){this.setState({costo:e.target.value})}},{key:"onChangeDuracionhorasServicio",value:function(e){this.setState({duracionhoras:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=new Date,a={nombre:this.state.nombre,estado:this.state.estado,descripcion:this.state.descripcion,costo:this.state.costo,duracionhoras:this.state.duracionhoras,creado:t,actualizado:t};L.a.post("http://localhost:4000/servicios/crear-servicio",a).then(function(e){return console.log(e.data)}),alert("Servicio creado con exito"),this.setState({nombre:"",estado:"",descripcion:"",costo:"",duracionhoras:"",mecanicos:this.state.mecanicos})}},{key:"render",value:function(){return o.a.createElement("div",{className:"form-wrapper"},o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Crear servicio"))))),o.a.createElement(T.a,{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,o.a.createElement("strong",null,"Nombre")),o.a.createElement("br",null),o.a.createElement("select",{value:this.state.nombre,onChange:this.onChangeNombreServicio,required:!0},o.a.createElement("option",null,"Seleccione"),o.a.createElement("option",{value:"Revisi\xf3n de frenos"},"Revisi\xf3n de frenos"),o.a.createElement("option",{value:"Pastillas"},"Pastillas"),o.a.createElement("option",{value:"Discos"},"Discos"),o.a.createElement("option",{value:"Suspensi\xf3n"},"Suspensi\xf3n"),o.a.createElement("option",{value:"Amortiguadores"},"Amortiguadores"),o.a.createElement("option",{value:"Cambio de aceite"},"Cambio de aceite"),o.a.createElement("option",{value:"Alineaci\xf3n"},"Alineaci\xf3n"),o.a.createElement("option",{value:"Rotaci\xf3n de llantas"},"Rotaci\xf3n de llantas"))),o.a.createElement(T.a.Group,{controlId:"Estado"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Estado")),o.a.createElement("br",null),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesEstado",id:"Disponible",value:"Disponible",checked:"Disponible"===this.state.estado,onChange:this.onChangeEstadoServicio,required:!0}),o.a.createElement("label",{className:"form-check-label"},"Disponible")),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesEstado",id:"No Disponible",value:"No Disponible",checked:"No Disponible"===this.state.estado,onChange:this.onChangeEstadoServicio}),o.a.createElement("label",{className:"form-check-label"},"No Disponible"))),o.a.createElement(T.a.Group,{controlId:"Descripcion"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Descripcion")),o.a.createElement(T.a.Control,{type:"text",value:this.state.descripcion,onChange:this.onChangeDescripcionServicio,required:!0})),o.a.createElement(T.a.Group,{controlId:"Costo"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Costo")),o.a.createElement(T.a.Control,{type:"number",value:this.state.costo,onChange:this.onChangeCostoServicio,required:!0})),o.a.createElement(T.a.Group,{controlId:"Duracionhoras"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Duracion horas")),o.a.createElement(T.a.Control,{type:"number",value:this.state.duracionhoras,onChange:this.onChangeDuracionhorasServicio,required:!0})),o.a.createElement(I.a,{variant:"danger",size:"lg",block:"block",type:"submit"},"Crear Servicio")))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeNombreServicio=a.onChangeNombreServicio.bind(Object(D.a)(a)),a.onChangeEstadoServicio=a.onChangeEstadoServicio.bind(Object(D.a)(a)),a.onChangeDescripcionServicio=a.onChangeDescripcionServicio.bind(Object(D.a)(a)),a.onChangeCostoServicio=a.onChangeCostoServicio.bind(Object(D.a)(a)),a.onChangeDuracionhorasServicio=a.onChangeDuracionhorasServicio.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={nombre:"",estado:"",descripcion:"",costo:"",duracionhoras:"",mecanicos:[]},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;L.a.get("http://localhost:4000/servicios/editar-servicio/"+this.props.match.params.id).then(function(t){e.setState({nombre:t.data.nombre,estado:t.data.estado,mecanico:t.data.mecanico,descripcion:t.data.descripcion,costo:t.data.costo,duracionhoras:t.data.duracionhoras})}).catch(function(e){console.log(e)})}},{key:"onChangeNombreServicio",value:function(e){this.setState({nombre:e.target.value})}},{key:"onChangeEstadoServicio",value:function(e){this.setState({estado:e.target.value})}},{key:"onChangeDescripcionServicio",value:function(e){this.setState({descripcion:e.target.value})}},{key:"onChangeCostoServicio",value:function(e){this.setState({costo:e.target.value})}},{key:"onChangeDuracionhorasServicio",value:function(e){this.setState({duracionhoras:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=new Date,a={nombre:this.state.nombre,estado:this.state.estado,descripcion:this.state.descripcion,costo:this.state.costo,duracionhoras:this.state.duracionhoras,actualizado:t};L.a.put("http://localhost:4000/servicios/editar-servicio/"+this.props.match.params.id,a).then(function(e){alert("Servicio editado con exito"),window.location.reload()}).catch(function(e){console.log(e)}),this.props.history.push("/servicios")}},{key:"render",value:function(){return o.a.createElement("div",{className:"form-wrapper"},o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Editar servicio"))))),o.a.createElement(T.a,{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,o.a.createElement("strong",null,"Nombre")),o.a.createElement("br",null),o.a.createElement("select",{value:this.state.nombre,onChange:this.onChangeNombreServicio},o.a.createElement("option",{value:"Revisi\xf3n de frenos"},"Revisi\xf3n de frenos"),o.a.createElement("option",{value:"Pastillas"},"Pastillas"),o.a.createElement("option",{value:"Discos"},"Discos"),o.a.createElement("option",{value:"Suspensi\xf3n"},"Suspensi\xf3n"),o.a.createElement("option",{value:"Amortiguadores"},"Amortiguadores"),o.a.createElement("option",{value:"Cambio de aceite"},"Cambio de aceite"),o.a.createElement("option",{value:"Alineaci\xf3n"},"Alineaci\xf3n"),o.a.createElement("option",{value:"Rotaci\xf3n de llantas"},"Rotaci\xf3n de llantas"))),o.a.createElement(T.a.Group,{controlId:"Estado"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Estado")),o.a.createElement("br",null),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesEstado",id:"Disponible",value:"Disponible",checked:"Disponible"===this.state.estado,onChange:this.onChangeEstadoServicio,required:!0}),o.a.createElement("label",{className:"form-check-label"},"Disponible")),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesEstado",id:"No Disponible",value:"No Disponible",checked:"No Disponible"===this.state.estado,onChange:this.onChangeEstadoServicio}),o.a.createElement("label",{className:"form-check-label"},"No Disponible"))),o.a.createElement(T.a.Group,{controlId:"Descripcion"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Descripcion")),o.a.createElement(T.a.Control,{type:"text",value:this.state.descripcion,onChange:this.onChangeDescripcionServicio,required:!0})),o.a.createElement(T.a.Group,{controlId:"Costo"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Costo")),o.a.createElement(T.a.Control,{type:"number",value:this.state.costo,onChange:this.onChangeCostoServicio,required:!0})),o.a.createElement(T.a.Group,{controlId:"Duracionhoras"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Duracion horas")),o.a.createElement(T.a.Control,{type:"number",value:this.state.duracionhoras,onChange:this.onChangeDuracionhorasServicio,required:!0})),o.a.createElement(I.a,{variant:"danger",size:"lg",block:"block",type:"submit"},"Editar Servicio")))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).borrarServicio=a.borrarServicio.bind(Object(D.a)(a)),a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"borrarServicio",value:function(){window.confirm("Esta seguro de borrar el servicio?")&&L.a.delete("http://localhost:4000/servicios/borrar-servicio/"+this.props.obj._id).then(function(e){console.log("Servicio borrado con exito!"),window.location.reload()}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e="Administrador"===JSON.parse(localStorage.getItem("token")).usuario.tipo;return o.a.createElement("tr",null,o.a.createElement("td",null,this.props.obj.nombre),o.a.createElement("td",null,this.props.obj.estado),o.a.createElement("td",null,this.props.obj.descripcion),o.a.createElement("td",null,this.props.obj.costo),o.a.createElement("td",null,this.props.obj.duracionhoras),o.a.createElement("td",null,o.a.createElement(i.b,{className:"btn btn-primary",to:"/agenda/servicio/"+this.props.obj._id},"Agenda"),o.a.createElement(i.b,{className:"btn btn-success",to:"/editar-servicio/"+this.props.obj._id},"Editar"),e?o.a.createElement(I.a,{onClick:this.borrarServicio,className:"btn btn-danger",variant:"danger"},"Borrar"):o.a.createElement("div",null)))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeTipoFiltro=a.onChangeTipoFiltro.bind(Object(D.a)(a)),a.onChangeCadenaFiltro=a.onChangeCadenaFiltro.bind(Object(D.a)(a)),a.state={textobuscar:"",filtrobuscar:"nombre",servicios:[],filtrados:[]},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"ejecutaFiltro",value:function(e,t){""!==e?this.setState({filtrados:this.state.servicios.filter(function(a){return a[t].toString().toLowerCase().indexOf(e.toString().toLowerCase())>-1})}):this.setState({filtrados:this.state.servicios})}},{key:"componentDidMount",value:function(){var e=this;L.a.get("http://localhost:4000/servicios/").then(function(t){e.setState({servicios:t.data,filtrados:t.data})}).catch(function(e){console.log(e)})}},{key:"onChangeCadenaFiltro",value:function(e){this.setState({textobuscar:e.target.value}),this.ejecutaFiltro(e.target.value,this.state.filtrobuscar)}},{key:"onChangeTipoFiltro",value:function(e){this.setState({filtrobuscar:e.target.value}),this.ejecutaFiltro(this.state.textobuscar,e.target.value)}},{key:"DataTable",value:function(){return this.state.filtrados.map(function(e,t){return o.a.createElement(re,{obj:e,key:t})})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Servicios")),o.a.createElement("th",{className:"contenedor"},o.a.createElement("h1",null,o.a.createElement(i.b,{className:"btn btn-info lado-derecho centrado-link",to:"/crear-servicio/"},"Nuevo")))))),o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(T.a.Group,{controlId:"Descripcion"},o.a.createElement(T.a.Control,{placeholder:"Buscar",type:"text",value:this.state.textobuscar,onChange:this.onChangeCadenaFiltro}))),o.a.createElement("td",null,o.a.createElement(T.a.Control,{as:"select",value:this.state.filtrobuscar,onChange:this.onChangeTipoFiltro},o.a.createElement("option",{value:"nombre"},"Nombre"),o.a.createElement("option",{value:"estado"},"Estado"),o.a.createElement("option",{value:"descripcion"},"Descripcion"),o.a.createElement("option",{value:"costo"},"Costo"),o.a.createElement("option",{value:"duracionhoras"},"Horas")))))),o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Nombre"),o.a.createElement("th",null,"Estado"),o.a.createElement("th",null,"Descripcion"),o.a.createElement("th",null,"Costo"),o.a.createElement("th",null,"Duracion horas"),o.a.createElement("th",null,"Accion"))),o.a.createElement("tbody",null,this.DataTable())))}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeServicio=a.onChangeServicio.bind(Object(D.a)(a)),a.onChangeMecanicoServicio=a.onChangeMecanicoServicio.bind(Object(D.a)(a)),a.onChangeEstado=a.onChangeEstado.bind(Object(D.a)(a)),a.onChangeCliente=a.onChangeCliente.bind(Object(D.a)(a)),a.onChangeCedula=a.onChangeCedula.bind(Object(D.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(D.a)(a)),a.onChangeTelefono=a.onChangeTelefono.bind(Object(D.a)(a)),a.onChangeFecha=a.onChangeFecha.bind(Object(D.a)(a)),a.onChangeHora=a.onChangeHora.bind(Object(D.a)(a)),a.onChangePlacaVehiculo=a.onChangePlacaVehiculo.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={servicio:{},mecanico:{},cliente:"",cedula:"",email:"",telefono:"",estado:"Agendada",fecha:"",hora:"",placavehiculo:"",servicios:[],mecanicos:[]},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"onChangeServicio",value:function(e){for(var t=!1,a=0;!t&&a<this.state.servicios.length;)this.state.servicios[a]._id===e.target.value&&(this.setState({servicio:this.state.servicios[a]}),t=!0),a++}},{key:"onChangeMecanicoServicio",value:function(e){for(var t=!1,a=0;!t&&a<this.state.mecanicos.length;)this.state.mecanicos[a]._id===e.target.value&&(this.setState({mecanico:this.state.mecanicos[a]}),t=!0),a++}},{key:"onChangeCliente",value:function(e){this.setState({cliente:e.target.value})}},{key:"onChangeCedula",value:function(e){this.setState({cedula:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeTelefono",value:function(e){this.setState({telefono:e.target.value})}},{key:"onChangeFecha",value:function(e){this.setState({fecha:e.target.value})}},{key:"onChangeEstado",value:function(e){this.setState({estado:e.target.value})}},{key:"onChangeHora",value:function(e){this.setState({hora:e.target.value})}},{key:"onChangePlacaVehiculo",value:function(e){this.setState({placavehiculo:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;L.a.get("http://localhost:4000/servicios/activos").then(function(t){e.setState({servicios:t.data})}),L.a.get("http://localhost:4000/usuarios/mecanicos").then(function(t){e.setState({mecanicos:t.data})})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=new Date,a={servicio:this.state.servicio,mecanico:this.state.mecanico,fecha:this.state.fecha,estado:this.state.estado,cedula:this.state.cedula,email:this.state.email,telefono:this.state.telefono,cliente:this.state.cliente,hora:this.state.hora,placavehiculo:this.state.placavehiculo,creado:t,actualizado:t};L.a.post("http://localhost:4000/citas/crear-cita",a).then(function(e){return console.log(e.data)}),alert("Cita creada con exito"),this.setState({servicio:{},fecha:"",estado:"Agendada",mecanico:{},cliente:"",cedula:"",email:"",telefono:"",hora:"",placavehiculo:"",servicios:this.state.servicios,mecanicos:this.state.mecanicos})}},{key:"render",value:function(){var e=this.state.servicios,t=e.length>0&&e.map(function(e,t){return o.a.createElement("option",{key:t,value:e._id},e.nombre+", Horas: "+e.duracionhoras)},this),a=this.state.mecanicos,n=a.length>0&&a.map(function(e,t){return o.a.createElement("option",{key:t,value:e._id},e.nombre)},this),l=localStorage.getItem("token"),r="Planta"===JSON.parse(l).usuario.tipo;return o.a.createElement("div",{className:"form-wrapper"},o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Crear cita"))))),o.a.createElement(T.a,{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,o.a.createElement("strong",null,"Servicio")),o.a.createElement("br",null),o.a.createElement("select",{value:this.state.servicio._id,onChange:this.onChangeServicio,required:!0},o.a.createElement("option",null,"Seleccione (Servicio, Estimado)"),t)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,o.a.createElement("strong",null,"Mecanico")),o.a.createElement("br",null),o.a.createElement("select",{className:"form-select",value:this.state.mecanico._id,onChange:this.onChangeMecanicoServicio},o.a.createElement("option",null,"Seleccione"),n)),o.a.createElement(T.a.Group,{controlId:"Cliente"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Cliente")),o.a.createElement(T.a.Control,{type:"text",value:this.state.cliente,onChange:this.onChangeCliente,required:!0})),o.a.createElement(T.a.Group,{controlId:"Cedula"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Cedula")),o.a.createElement(T.a.Control,{type:"number",value:this.state.cedula,onChange:this.onChangeCedula,required:!0})),o.a.createElement(T.a.Group,{controlId:"Email"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Email")),o.a.createElement(T.a.Control,{type:"email",value:this.state.email,onChange:this.onChangeEmail,required:!0})),o.a.createElement(T.a.Group,{controlId:"Telefono"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Telefono")),o.a.createElement(T.a.Control,{type:"number",value:this.state.telefono,onChange:this.onChangeTelefono,required:!0})),o.a.createElement(T.a.Group,{controlId:"Estado"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Estado"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesEstado",id:"Agendado",value:"Agendado",checked:"Agendado"===this.state.estado,onChange:this.onChangeEstado,required:!0}),o.a.createElement("label",{className:"form-check-label"},"Agendado")),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesEstado",id:"Cancelado",value:"Cancelado",checked:"Cancelado"===this.state.estado,onChange:this.onChangeEstado}),o.a.createElement("label",{className:"form-check-label"},"Cancelado")),r?o.a.createElement("div",null):o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesEstado",id:"Completo",value:"Completo",checked:"Completo"===this.state.estado,onChange:this.onChangeEstado}),o.a.createElement("label",{className:"form-check-label"},"Completo"))),o.a.createElement(T.a.Group,{controlId:"Fecha"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Fecha")),o.a.createElement(T.a.Control,{type:"Date",value:this.state.fecha,onChange:this.onChangeFecha,required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,o.a.createElement("strong",null,"Hora")),o.a.createElement("br",null),o.a.createElement("select",{value:this.state.hora,onChange:this.onChangeHora,required:!0},o.a.createElement("option",{value:""},"Seleccione"),o.a.createElement("option",{value:"8"},"8:00 am"),o.a.createElement("option",{value:"9"},"9:00 am"),o.a.createElement("option",{value:"10"},"10:00 am"),o.a.createElement("option",{value:"11"},"11:00 am"),o.a.createElement("option",{value:"12"},"12:00 pm"),o.a.createElement("option",{value:"13"},"1:00 pm"),o.a.createElement("option",{value:"14"},"2:00 pm"),o.a.createElement("option",{value:"15"},"3:00 pm"),o.a.createElement("option",{value:"16"},"4:00 pm"),o.a.createElement("option",{value:"17"},"5:00 pm"))),o.a.createElement(T.a.Group,{controlId:"Descripcion"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Placa Vehiculo")),o.a.createElement(T.a.Control,{type:"text",value:this.state.placavehiculo,onChange:this.onChangePlacaVehiculo,required:!0})),o.a.createElement(I.a,{variant:"danger",size:"lg",block:"block",type:"submit"},"Crear Cita")))}}]),t}(n.Component),se=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeServicio=a.onChangeServicio.bind(Object(D.a)(a)),a.onChangeMecanicoServicio=a.onChangeMecanicoServicio.bind(Object(D.a)(a)),a.onChangeEstado=a.onChangeEstado.bind(Object(D.a)(a)),a.onChangeCliente=a.onChangeCliente.bind(Object(D.a)(a)),a.onChangeCedula=a.onChangeCedula.bind(Object(D.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(D.a)(a)),a.onChangeTelefono=a.onChangeTelefono.bind(Object(D.a)(a)),a.onChangeFecha=a.onChangeFecha.bind(Object(D.a)(a)),a.onChangeHora=a.onChangeHora.bind(Object(D.a)(a)),a.onChangePlacaVehiculo=a.onChangePlacaVehiculo.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={servicio:{},mecanico:{},cliente:"",cedula:"",email:"",telefono:"",estado:"Agendada",fecha:"",hora:"",placavehiculo:"",servicios:[],mecanicos:[]},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;L.a.get("http://localhost:4000/citas/editar-cita/"+this.props.match.params.id).then(function(t){var a={};a=t.data.mecanico?t.data.mecanico:{_id:""},e.setState({servicio:t.data.servicio,mecanico:a,cliente:t.data.cliente,cedula:t.data.cedula,email:t.data.email,telefono:t.data.telefono,estado:t.data.estado,fecha:t.data.fecha.split("T")[0],hora:t.data.hora,placavehiculo:t.data.placavehiculo,servicios:e.state.servicios,mecanicos:e.state.mecanicos})}).catch(function(e){console.log(e)}),L.a.get("http://localhost:4000/servicios/activos").then(function(t){e.setState({servicios:t.data})}),L.a.get("http://localhost:4000/usuarios/mecanicos").then(function(t){e.setState({mecanicos:t.data})})}},{key:"onChangeServicio",value:function(e){for(var t=!1,a=0;!t&&a<this.state.servicios.length;)this.state.servicios[a]._id===e.target.value&&(this.setState({servicio:this.state.servicios[a]}),t=!0),a++}},{key:"onChangeMecanicoServicio",value:function(e){for(var t=!1,a=0;!t&&a<this.state.mecanicos.length;)this.state.mecanicos[a]._id===e.target.value&&(this.setState({mecanico:this.state.mecanicos[a]}),t=!0),a++}},{key:"onChangeCliente",value:function(e){this.setState({cliente:e.target.value})}},{key:"onChangeCedula",value:function(e){this.setState({cedula:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeTelefono",value:function(e){this.setState({telefono:e.target.value})}},{key:"onChangeEstado",value:function(e){this.setState({estado:e.target.value})}},{key:"onChangeFecha",value:function(e){this.setState({fecha:e.target.value})}},{key:"onChangeHora",value:function(e){this.setState({hora:e.target.value})}},{key:"onChangePlacaVehiculo",value:function(e){this.setState({placavehiculo:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=new Date,a={servicio:this.state.servicio,mecanico:this.state.mecanico,fecha:this.state.fecha,estado:this.state.estado,cedula:this.state.cedula,email:this.state.email,telefono:this.state.telefono,cliente:this.state.cliente,hora:this.state.hora,placavehiculo:this.state.placavehiculo,actualizado:t};L.a.put("http://localhost:4000/citas/editar-cita/"+this.props.match.params.id,a).then(function(e){alert("Cita editada con exito"),window.location.reload()}).catch(function(e){console.log(e)});var n=localStorage.getItem("token"),o=JSON.parse(n);"Mecanico"===o.usuario.tipo?this.props.history.push("/agenda/mecanico/"+o.usuario._id):this.props.history.push("/citas")}},{key:"render",value:function(){var e=this.state.servicios,t=e.length>0&&e.map(function(e,t){return o.a.createElement("option",{key:t,value:e._id},e.nombre+", Horas: "+e.duracionhoras)},this),a=this.state.mecanicos,n=a.length>0&&a.map(function(e,t){return o.a.createElement("option",{key:t,value:e._id},e.nombre)},this),l=localStorage.getItem("token"),r=JSON.parse(l),i="Mecanico"===r.usuario.tipo,c="Planta"===r.usuario.tipo;return o.a.createElement("div",{className:"form-wrapper"},o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Editar cita"))))),o.a.createElement(T.a,{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,o.a.createElement("strong",null,"Servicio")),o.a.createElement("br",null),o.a.createElement("select",{disabled:i,value:this.state.servicio._id,onChange:this.onChangeServicio,required:!0},o.a.createElement("option",{value:""},"Seleccione (Servicio, Estimado)"),t)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,o.a.createElement("strong",null,"Mecanico")),o.a.createElement("br",null),o.a.createElement("select",{disabled:i,className:"form-select",value:this.state.mecanico._id,onChange:this.onChangeMecanicoServicio},o.a.createElement("option",null,"Seleccione"),n)),o.a.createElement(T.a.Group,{controlId:"Cliente"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Cliente")),o.a.createElement(T.a.Control,{disabled:i,type:"text",value:this.state.cliente,onChange:this.onChangeCliente,required:!0})),o.a.createElement(T.a.Group,{controlId:"Cedula"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Cedula")),o.a.createElement(T.a.Control,{disabled:i,type:"number",value:this.state.cedula,onChange:this.onChangeCedula,required:!0})),o.a.createElement(T.a.Group,{controlId:"Email"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Email")),o.a.createElement(T.a.Control,{disabled:i,type:"email",value:this.state.email,onChange:this.onChangeEmail,required:!0})),o.a.createElement(T.a.Group,{controlId:"Telefono"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Telefono")),o.a.createElement(T.a.Control,{disabled:i,type:"number",value:this.state.telefono,onChange:this.onChangeTelefono,required:!0})),o.a.createElement(T.a.Group,{controlId:"Estado"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Estado"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesEstado",id:"Agendado",value:"Agendado",checked:"Agendado"===this.state.estado,onChange:this.onChangeEstado,required:!0}),o.a.createElement("label",{className:"form-check-label"},"Agendado")),i?o.a.createElement("div",null):o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesEstado",id:"Cancelado",value:"Cancelado",checked:"Cancelado"===this.state.estado,onChange:this.onChangeEstado}),o.a.createElement("label",{className:"form-check-label"},"Cancelado")),c?o.a.createElement("div",null):o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"OpcionesEstado",id:"Completo",value:"Completo",checked:"Completo"===this.state.estado,onChange:this.onChangeEstado}),o.a.createElement("label",{className:"form-check-label"},"Completo"))),o.a.createElement(T.a.Group,{controlId:"Fecha"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Fecha")),o.a.createElement(T.a.Control,{disabled:i,type:"Date",value:this.state.fecha,onChange:this.onChangeFecha,required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,o.a.createElement("strong",null,"Hora")),o.a.createElement("br",null),o.a.createElement("select",{disabled:i,value:this.state.hora,onChange:this.onChangeHora,required:!0},o.a.createElement("option",{value:"8"},"8:00 am"),o.a.createElement("option",{value:"9"},"9:00 am"),o.a.createElement("option",{value:"10"},"10:00 am"),o.a.createElement("option",{value:"11"},"11:00 am"),o.a.createElement("option",{value:"12"},"12:00 pm"),o.a.createElement("option",{value:"13"},"1:00 pm"),o.a.createElement("option",{value:"14"},"2:00 pm"),o.a.createElement("option",{value:"15"},"3:00 pm"),o.a.createElement("option",{value:"16"},"4:00 pm"),o.a.createElement("option",{value:"17"},"5:00 pm"))),o.a.createElement(T.a.Group,{controlId:"Descripcion"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Placa Vehiculo")),o.a.createElement(T.a.Control,{disabled:i,type:"text",value:this.state.placavehiculo,onChange:this.onChangePlacaVehiculo,required:!0})),o.a.createElement(I.a,{variant:"danger",size:"lg",block:"block",type:"submit"},"Editar Cita")))}}]),t}(n.Component),ue=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).borrarCita=a.borrarCita.bind(Object(D.a)(a)),a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"borrarCita",value:function(){window.confirm("Esta seguro de borrar la cita?")&&L.a.delete("http://localhost:4000/citas/borrar-cita/"+this.props.obj._id).then(function(e){console.log("Cita borrada con exito!"),window.location.reload()}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e="Administrador"===JSON.parse(localStorage.getItem("token")).usuario.tipo;return o.a.createElement("tr",null,o.a.createElement("td",null,this.props.obj.servicio.nombre),this.props.obj.mecanico?o.a.createElement("td",null,this.props.obj.mecanico.nombre):o.a.createElement("td",null),o.a.createElement("td",null,this.props.obj.servicio.duracionhoras),o.a.createElement("td",null,this.props.obj.estado),o.a.createElement("td",null,this.props.obj.cliente),o.a.createElement("td",null,this.props.obj.cedula),o.a.createElement("td",null,this.props.obj.telefono),o.a.createElement("td",null,this.props.obj.email),o.a.createElement("td",null,this.props.obj.fecha.split("T")[0]),o.a.createElement("td",null,this.props.obj.hora+":00"),o.a.createElement("td",null,this.props.obj.placavehiculo),o.a.createElement("td",null,o.a.createElement(i.b,{className:"btn btn-primary",to:"/agenda/servicio/"+this.props.obj.servicio._id},"Agenda"),o.a.createElement(i.b,{className:"btn btn-success",to:"/editar-cita/"+this.props.obj._id},"Editar"),o.a.createElement(i.b,{className:"btn btn-warning",to:"/comentarios/"+this.props.obj._id},"Comentarios"),e?o.a.createElement(I.a,{onClick:this.borrarCita,className:"btn btn-danger",variant:"danger"},"Borrar"):o.a.createElement("div",null)))}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeTipoFiltro=a.onChangeTipoFiltro.bind(Object(D.a)(a)),a.onChangeCadenaFiltro=a.onChangeCadenaFiltro.bind(Object(D.a)(a)),a.state={textobuscar:"",filtrobuscar:"servicio",citas:[],filtrados:[]},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"ejecutaFiltro",value:function(e,t){""!==e?"mecanico"===t||"servicio"===t?this.setState({filtrados:this.state.citas.filter(function(a){return a[t].nombre.toString().toLowerCase().indexOf(e.toString().toLowerCase())>-1})}):"horas"===t?this.setState({filtrados:this.state.citas.filter(function(t){return t.servicio.duracionhoras.toString().toLowerCase().indexOf(e.toString().toLowerCase())>-1})}):this.setState({filtrados:this.state.citas.filter(function(a){return a[t].toString().toLowerCase().indexOf(e.toString().toLowerCase())>-1})}):this.setState({filtrados:this.state.citas})}},{key:"componentDidMount",value:function(){var e=this;L.a.get("http://localhost:4000/citas/").then(function(t){e.setState({citas:t.data,filtrados:t.data})}).catch(function(e){console.log(e)})}},{key:"onChangeCadenaFiltro",value:function(e){this.setState({textobuscar:e.target.value}),this.ejecutaFiltro(e.target.value,this.state.filtrobuscar)}},{key:"onChangeTipoFiltro",value:function(e){this.setState({filtrobuscar:e.target.value}),this.ejecutaFiltro(this.state.textobuscar,e.target.value)}},{key:"DataTable",value:function(){return this.state.filtrados.map(function(e,t){return o.a.createElement(ue,{obj:e,key:t})})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Citas para servicio")),o.a.createElement("th",{className:"contenedor"},o.a.createElement("h1",null,o.a.createElement(i.b,{className:"btn btn-info lado-derecho centrado-link",to:"/crear-cita/"},"Nuevo")))))),o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(T.a.Group,{controlId:"Descripcion"},o.a.createElement(T.a.Control,{placeholder:"Buscar",type:"text",value:this.state.textobuscar,onChange:this.onChangeCadenaFiltro}))),o.a.createElement("td",null,o.a.createElement(T.a.Control,{as:"select",value:this.state.filtrobuscar,onChange:this.onChangeTipoFiltro},o.a.createElement("option",{value:"servicio"},"Servicio"),o.a.createElement("option",{value:"mecanico"},"Mecanico"),o.a.createElement("option",{value:"horas"},"Horas"),o.a.createElement("option",{value:"estado"},"Estado"),o.a.createElement("option",{value:"cliente"},"Cliente"),o.a.createElement("option",{value:"telefono"},"Telefono"),o.a.createElement("option",{value:"cedula"},"Cedula"),o.a.createElement("option",{value:"email"},"Email"),o.a.createElement("option",{value:"placavehiculo"},"Placa")))))),o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Servicio"),o.a.createElement("th",null,"Mecanico"),o.a.createElement("th",null,"Horas"),o.a.createElement("th",null,"Estado"),o.a.createElement("th",null,"Cliente"),o.a.createElement("th",null,"Cedula"),o.a.createElement("th",null,"Telefono"),o.a.createElement("th",null,"Email"),o.a.createElement("th",null,"Fecha"),o.a.createElement("th",null,"Hora"),o.a.createElement("th",null,"Placa"),o.a.createElement("th",null,"Accion"))),o.a.createElement("tbody",null,this.DataTable())))}}]),t}(n.Component),he=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeTipoFiltro=a.onChangeTipoFiltro.bind(Object(D.a)(a)),a.onChangeCadenaFiltro=a.onChangeCadenaFiltro.bind(Object(D.a)(a)),a.state={textobuscar:"",filtrobuscar:"servicio",citas:[],filtrados:[]},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"ejecutaFiltro",value:function(e,t){""!==e?"mecanico"===t||"servicio"===t?this.setState({filtrados:this.state.citas.filter(function(a){return a[t].nombre.toString().toLowerCase().indexOf(e.toString().toLowerCase())>-1})}):"horas"===t?this.setState({filtrados:this.state.citas.filter(function(t){return t.servicio.duracionhoras.toString().toLowerCase().indexOf(e.toString().toLowerCase())>-1})}):this.setState({filtrados:this.state.citas.filter(function(a){return a[t].toString().toLowerCase().indexOf(e.toString().toLowerCase())>-1})}):this.setState({filtrados:this.state.citas})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token"),a=JSON.parse(t);L.a.get("http://localhost:4000/citas/mecanico/"+a.usuario._id).then(function(t){e.setState({citas:t.data,filtrados:t.data}),console.log(t.data)}).catch(function(e){console.log(e)})}},{key:"onChangeCadenaFiltro",value:function(e){this.setState({textobuscar:e.target.value}),this.ejecutaFiltro(e.target.value,this.state.filtrobuscar)}},{key:"onChangeTipoFiltro",value:function(e){this.setState({filtrobuscar:e.target.value}),this.ejecutaFiltro(this.state.textobuscar,e.target.value)}},{key:"DataTable",value:function(){return this.state.filtrados.map(function(e,t){return o.a.createElement(ue,{obj:e,key:t})})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Mis servicios"))))),o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(T.a.Group,{controlId:"Descripcion"},o.a.createElement(T.a.Control,{placeholder:"Buscar",type:"text",value:this.state.textobuscar,onChange:this.onChangeCadenaFiltro}))),o.a.createElement("td",null,o.a.createElement(T.a.Control,{as:"select",value:this.state.filtrobuscar,onChange:this.onChangeTipoFiltro},o.a.createElement("option",{value:"servicio"},"Servicio"),o.a.createElement("option",{value:"mecanico"},"Mecanico"),o.a.createElement("option",{value:"horas"},"Horas"),o.a.createElement("option",{value:"estado"},"Estado"),o.a.createElement("option",{value:"cliente"},"Cliente"),o.a.createElement("option",{value:"telefono"},"Telefono"),o.a.createElement("option",{value:"cedula"},"Cedula"),o.a.createElement("option",{value:"email"},"Email"),o.a.createElement("option",{value:"placavehiculo"},"Placa")))))),o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Servicio"),o.a.createElement("th",null,"Mecanico"),o.a.createElement("th",null,"Horas"),o.a.createElement("th",null,"Estado"),o.a.createElement("th",null,"Cliente"),o.a.createElement("th",null,"Cedula"),o.a.createElement("th",null,"Telefono"),o.a.createElement("th",null,"Email"),o.a.createElement("th",null,"Fecha"),o.a.createElement("th",null,"Hora"),o.a.createElement("th",null,"Placa"),o.a.createElement("th",null,"Accion"))),o.a.createElement("tbody",null,this.DataTable())))}}]),t}(n.Component),de=function(e){function t(){return Object(j.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return o.a.createElement("tr",null,o.a.createElement("td",null,this.props.obj.servicio.nombre),o.a.createElement("td",null,this.props.obj.mecanico.nombre),o.a.createElement("td",null,this.props.obj.servicio.duracionhoras),o.a.createElement("td",null,this.props.obj.estado),o.a.createElement("td",null,this.props.obj.cliente),o.a.createElement("td",null,this.props.obj.telefono),o.a.createElement("td",null,this.props.obj.fecha.split("T")[0]),o.a.createElement("td",null,this.props.obj.hora+":00"),o.a.createElement("td",null,this.props.obj.placavehiculo))}}]),t}(n.Component),Ee=a(31),pe=a.n(Ee),be=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).borrarComentario=a.borrarComentario.bind(Object(D.a)(a)),a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"borrarComentario",value:function(){L.a.delete("http://localhost:4000/comentarios/borrar-comentario/"+this.props.obj._id).then(function(e){console.log("Cita borrada con exito!"),window.location.reload()}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e="Mecanico"===JSON.parse(localStorage.getItem("token")).usuario.tipo;return o.a.createElement("tr",null,o.a.createElement("td",null,this.props.obj.comentario),o.a.createElement("td",null,pe()(this.props.obj.actualizado).format("MM-DD-yyyy HH:mm:ss")),o.a.createElement("td",null,e?o.a.createElement(I.a,{onClick:this.borrarComentario,className:"btn btn-danger",variant:"danger"},"Borrar"):o.a.createElement("div",null)))}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeComentario=a.onChangeComentario.bind(Object(D.a)(a)),a.onSubmit2=a.onSubmit2.bind(Object(D.a)(a)),a.state={citas:[],comentarios:[],comentario:"",actualizado:"",cita:""},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"onChangeComentario",value:function(e){this.setState({comentario:e.target.value})}},{key:"onSubmit2",value:function(e){e.preventDefault();var t={comentario:this.state.comentario,actualizado:new Date,cita:this.state.cita,creado:new Date};L.a.post("http://localhost:4000/comentarios/crear-comentario",t).then(function(e){return console.log(e.data)}),this.setState({comentario:"",actualizado:""})}},{key:"componentDidMount",value:function(){var e=this;L.a.get("http://localhost:4000/citas/editar-cita/"+this.props.match.params.id).then(function(t){e.setState({citas:[t.data],cita:t.data})}).catch(function(e){console.log(e)}),L.a.get("http://localhost:4000/comentarios/"+this.props.match.params.id).then(function(t){e.setState({comentarios:t.data})}).catch(function(e){console.log(e)})}},{key:"DataTable",value:function(){return this.state.citas.map(function(e,t){return o.a.createElement(de,{obj:e,key:t})})}},{key:"DataTableComentarios",value:function(){return this.state.comentarios.map(function(e,t){return o.a.createElement(be,{obj:e,key:t})})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Servicio"),o.a.createElement("th",null,"Mecanico"),o.a.createElement("th",null,"Duracion"),o.a.createElement("th",null,"Estado"),o.a.createElement("th",null,"Cliente"),o.a.createElement("th",null,"Telefono"),o.a.createElement("th",null,"Fecha"),o.a.createElement("th",null,"Hora"),o.a.createElement("th",null,"Placa"))),o.a.createElement("tbody",null,this.DataTable())),o.a.createElement(T.a,{onSubmit:this.onSubmit},o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Comentario"),o.a.createElement("th",null,"Fecha"),o.a.createElement("th",null,"Accion"))),o.a.createElement("tbody",null,this.DataTableComentarios()))),o.a.createElement(T.a,{onSubmit:this.onSubmit2},o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(T.a.Group,{controlId:"Comentario"},o.a.createElement(T.a.Control,{placeholder:"Nuevo comentario",type:"text",value:this.state.comentario,onChange:this.onChangeComentario,required:!0}))),o.a.createElement("td",null,o.a.createElement(I.a,{variant:"btn btn-primary",block:"block",type:"submit"},"Agregar")))))))}}]),t}(n.Component),ge=function(e){function t(){return Object(j.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return o.a.createElement("tr",null,o.a.createElement("td",null,this.props.obj.servicio.nombre),o.a.createElement("td",null,this.props.obj.estado),o.a.createElement("td",null,this.props.obj.hora+":00"),o.a.createElement("td",null,this.props.obj.cliente),o.a.createElement("td",null,this.props.obj.telefono),o.a.createElement("td",null,this.props.obj.placavehiculo))}}]),t}(n.Component),fe=function(e){function t(){return Object(j.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(k.a)(t,[{key:"DataTable",value:function(){return this.props.obj.citas.map(function(e,t){return o.a.createElement(ge,{obj:e,key:t})})}},{key:"render",value:function(){return o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,this.props.obj._id.fecha.split("T")[0]),o.a.createElement("th",{colSpan:"6"},this.props.obj._id.mecanico))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Servicio"),o.a.createElement("th",null,"Estado"),o.a.createElement("th",null,"Hora"),o.a.createElement("th",null,"Cliente"),o.a.createElement("th",null,"Telefono"),o.a.createElement("th",null,"Placa vehiculo")),this.DataTable()))}}]),t}(n.Component),Ce=function(e){function t(e){var a;Object(j.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).onChangeFechadesde=a.onChangeFechadesde.bind(Object(D.a)(a)),a.onChangeFechahasta=a.onChangeFechahasta.bind(Object(D.a)(a));var n=new Date;n.setMonth(n.getMonth()+1),n=n.toISOString().split("T")[0],console.log("dentro_un_mes: "+n);var o=new Date;return o.setMonth(o.getMonth()-1),o=o.toISOString().split("T")[0],console.log("hace_un_mes: "+o),a.state={fecha_desde:o,fecha_hasta:n,servicio_mas:{},servicio_menos:{},servicios_completos:0,lista_asignaciones:[]},a}return Object(N.a)(t,e),Object(k.a)(t,[{key:"obtenerDatosReportes",value:function(e,t){var a=this,n=e+"/"+t;L.a.get("http://localhost:4000/citas/servicio-mas-solicitado/"+n).then(function(e){null!=e.data[0]?a.setState({servicio_mas:{nombre:e.data[0]._id,conteo:e.data[0].conteo}}):a.setState({servicio_mas:{nombre:"No hay servicios en el rango",conteo:0}}),console.log(a.state.servicio_mas)}).catch(function(e){console.log(e)}),L.a.get("http://localhost:4000/citas/servicio-menos-solicitado/"+n).then(function(e){null!=e.data[0]?a.setState({servicio_menos:{nombre:e.data[0]._id,conteo:e.data[0].conteo}}):a.setState({servicio_menos:{nombre:"No hay servicios en el rango",conteo:0}}),console.log(a.state.servicio_menos)}).catch(function(e){console.log(e)}),L.a.get("http://localhost:4000/citas/servicios-completos/"+n).then(function(e){null!=e.data[0]?a.setState({servicios_completos:e.data[0].conteo}):a.setState({servicios_completos:0}),console.log(a.state.servicios_completos)}).catch(function(e){console.log(e)}),L.a.get("http://localhost:4000/citas/servicios-mecanico-por-dia/"+n).then(function(e){a.setState({lista_asignaciones:e.data}),console.log(a.state.lista_asignaciones)}).catch(function(e){console.log(e)})}},{key:"onChangeFechadesde",value:function(e){console.log("desde "+e.target.value),this.setState({fecha_desde:e.target.value}),this.obtenerDatosReportes(e.target.value,this.state.fecha_hasta)}},{key:"onChangeFechahasta",value:function(e){console.log("hasta "+e.target.value),this.setState({fecha_hasta:e.target.value}),this.obtenerDatosReportes(this.state.fecha_desde,e.target.value)}},{key:"componentDidMount",value:function(){this.obtenerDatosReportes(this.state.fecha_desde,this.state.fecha_hasta)}},{key:"DataTable",value:function(){return this.state.lista_asignaciones.length>0?this.state.lista_asignaciones.map(function(e,t){return o.a.createElement(fe,{obj:e,key:t})}):o.a.createElement("h4",null,"No existen asignaciones para servicio en este rango de fechas")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h1",null,"Reportes"))))),o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(T.a.Group,{controlId:"Desde"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Desde")),o.a.createElement(T.a.Control,{type:"Date",value:this.state.fecha_desde,onChange:this.onChangeFechadesde,required:!0}))),o.a.createElement("td",null,o.a.createElement(T.a.Group,{controlId:"Hasta"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Hasta")),o.a.createElement(T.a.Control,{type:"Date",value:this.state.fecha_hasta,onChange:this.onChangeFechahasta,required:!0})))))),o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(T.a.Group,{controlId:"ServicioMas"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Servicio mas solicitado")),o.a.createElement("div",null,o.a.createElement(T.a.Label,null,this.state.servicio_mas.nombre," ")),o.a.createElement("div",null,o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Total:")," ",this.state.servicio_mas.conteo)))),o.a.createElement("td",null,o.a.createElement(T.a.Group,{controlId:"ServicioMenos"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Servicio menos solicitado")),o.a.createElement("div",null,o.a.createElement(T.a.Label,null,this.state.servicio_menos.nombre," ")),o.a.createElement("div",null,o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Total:")," ",this.state.servicio_menos.conteo)))),o.a.createElement("td",null,o.a.createElement(T.a.Group,{controlId:"ServiciosCompletos"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Servicios completos")),o.a.createElement("div",null,o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Total:")," ",this.state.servicios_completos))))))),o.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("h2",null,"Lista de Mecanicos y sus asignaciones por dia"))))),this.DataTable())}}]),t}(n.Component),Se=a(34),je=a.n(Se),ke=a(33),Oe=a(44);a(140);function ye(e){return De.apply(this,arguments)}function De(){return(De=Object(Oe.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://localhost:4000/usuarios/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ne(e){var t=e.setToken,a=Object(n.useState)(),l=Object(ke.a)(a,2),r=l[0],i=l[1],c=Object(n.useState)(),s=Object(ke.a)(c,2),u=s[0],m=s[1],h=Object(n.useState)(),d=Object(ke.a)(h,2),E=d[0],p=d[1],b=function(){var e=Object(Oe.a)(je.a.mark(function e(a){var n;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,ye({email:r,password:u});case 3:(n=e.sent).login?t(n):p(n.error);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"login-wrapper"},o.a.createElement("h1",null,"Macautec"),o.a.createElement(T.a,{onSubmit:b},o.a.createElement(T.a.Group,{controlId:"Email"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Email")),o.a.createElement(T.a.Control,{type:"text",onChange:function(e){return i(e.target.value)},required:!0})),o.a.createElement(T.a.Group,{controlId:"Contrasena"},o.a.createElement(T.a.Label,null,o.a.createElement("strong",null,"Contrase\xf1a")),o.a.createElement(T.a.Control,{type:"password",onChange:function(e){return m(e.target.value)},required:!0})),o.a.createElement(I.a,{variant:"danger",size:"lg",block:"block",type:"submit"},"Ingresar")),o.a.createElement("div",{className:"text-danger"},E))}var we=function(){var e=function(){var e=Object(n.useState)(function(){var e=localStorage.getItem("token"),t=JSON.parse(e);return null!==t?t.token:""}()),t=Object(ke.a)(e,2),a=t[0],o=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),o(e.token)},token:a}}(),t=e.token,a=e.setToken;if(!t)return o.a.createElement(Ne,{setToken:a});var l=localStorage.getItem("token"),r=JSON.parse(l);return o.a.createElement(i.a,null,o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(m.a,{className:"color-nav"},o.a.createElement(S,null),o.a.createElement(d.a,null,o.a.createElement(m.a.Brand,null,o.a.createElement(i.b,{to:"/",className:"nav-link"},"Macautec")),o.a.createElement(s.a,{className:"justify-content-end"},o.a.createElement(s.a,{className:"nombre-usuario"},r.usuario.nombre," / ",r.usuario.tipo))))),o.a.createElement(d.a,null,o.a.createElement(p.a,null,o.a.createElement(v.a,{md:12},o.a.createElement("div",{className:"wrapper"},o.a.createElement(g.c,null,o.a.createElement(g.a,{exact:!0,path:"/",component:Y}),o.a.createElement(g.a,{path:"/crear-usuario/",component:P}),o.a.createElement(g.a,{path:"/editar-usuario/:id",component:M}),o.a.createElement(g.a,{path:"/usuarios/",component:G}),o.a.createElement(g.a,{path:"/crear-servicio/",component:oe}),o.a.createElement(g.a,{path:"/editar-servicio/:id",component:le}),o.a.createElement(g.a,{path:"/servicios/",component:ie}),o.a.createElement(g.a,{path:"/crear-cita/",component:ce}),o.a.createElement(g.a,{path:"/editar-cita/:id",component:se}),o.a.createElement(g.a,{path:"/citas/mecanico/:id",component:he}),o.a.createElement(g.a,{path:"/citas/",component:me}),o.a.createElement(g.a,{path:"/comentarios/:id",component:ve}),o.a.createElement(g.a,{path:"/agenda/mecanico/:id",component:ne}),o.a.createElement(g.a,{path:"/agenda/servicio/:id",component:X}),o.a.createElement(g.a,{path:"/agenda/",component:Y}),o.a.createElement(g.a,{path:"/mecanicos/",component:q}),o.a.createElement(g.a,{path:"/reportes/",component:Ce}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(i.a,null,o.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},75:function(e,t,a){e.exports=a(163)},80:function(e,t,a){},82:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.f765d335.chunk.js.map