{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lucas\\\\Downloads\\\\Macautec-Jeimy-Cliente\\\\src\\\\components\\\\editar-cita.component.js\";\nimport React, { Component } from \"react\";\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\nimport Table from 'react-bootstrap/Table';\nexport default class EditarCita extends Component {\n  constructor(props) {\n    super(props); // Setting up functions\n\n    this.onChangeServicio = this.onChangeServicio.bind(this);\n    this.onChangeMecanicoServicio = this.onChangeMecanicoServicio.bind(this);\n    this.onChangeEstado = this.onChangeEstado.bind(this);\n    this.onChangeCliente = this.onChangeCliente.bind(this);\n    this.onChangeCedula = this.onChangeCedula.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangeTelefono = this.onChangeTelefono.bind(this);\n    this.onChangeFecha = this.onChangeFecha.bind(this);\n    this.onChangeHora = this.onChangeHora.bind(this);\n    this.onChangePlacaVehiculo = this.onChangePlacaVehiculo.bind(this);\n    this.onSubmit = this.onSubmit.bind(this); // Setting up state\n\n    this.state = {\n      servicio: {},\n      mecanico: {},\n      cliente: '',\n      cedula: '',\n      email: '',\n      telefono: '',\n      estado: 'Agendada',\n      fecha: '',\n      hora: '',\n      placavehiculo: '',\n      servicios: [],\n      mecanicos: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4000/citas/editar-cita/' + this.props.match.params.id).then(res => {\n      var id = {};\n\n      if (res.data.mecanico) {\n        id = res.data.mecanico;\n      } else {\n        id = {\n          _id: ''\n        };\n      }\n\n      this.setState({\n        servicio: res.data.servicio,\n        mecanico: id,\n        cliente: res.data.cliente,\n        cedula: res.data.cedula,\n        email: res.data.email,\n        telefono: res.data.telefono,\n        estado: res.data.estado,\n        fecha: res.data.fecha.split('T')[0],\n        hora: res.data.hora,\n        placavehiculo: res.data.placavehiculo,\n        servicios: this.state.servicios,\n        mecanicos: this.state.mecanicos\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get('http://localhost:4000/servicios/activos').then(res => {\n      this.setState({\n        servicios: res.data\n      });\n    });\n    axios.get('http://localhost:4000/usuarios/mecanicos').then(res => {\n      this.setState({\n        mecanicos: res.data\n      });\n    });\n  }\n\n  onChangeServicio(e) {\n    var found = false;\n    var i = 0;\n\n    while (!found && i < this.state.servicios.length) {\n      if (this.state.servicios[i]._id === e.target.value) {\n        this.setState({\n          servicio: this.state.servicios[i]\n        });\n        found = true;\n      }\n\n      i++;\n    }\n  }\n\n  onChangeMecanicoServicio(e) {\n    var found = false;\n    var i = 0;\n\n    while (!found && i < this.state.mecanicos.length) {\n      if (this.state.mecanicos[i]._id === e.target.value) {\n        this.setState({\n          mecanico: this.state.mecanicos[i]\n        });\n        found = true;\n      }\n\n      i++;\n    }\n  }\n\n  onChangeCliente(e) {\n    this.setState({\n      cliente: e.target.value\n    });\n  }\n\n  onChangeCedula(e) {\n    this.setState({\n      cedula: e.target.value\n    });\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  onChangeTelefono(e) {\n    this.setState({\n      telefono: e.target.value\n    });\n  }\n\n  onChangeEstado(e) {\n    this.setState({\n      estado: e.target.value\n    });\n  }\n\n  onChangeFecha(e) {\n    this.setState({\n      fecha: e.target.value\n    });\n  }\n\n  onChangeHora(e) {\n    this.setState({\n      hora: e.target.value\n    });\n  }\n\n  onChangePlacaVehiculo(e) {\n    this.setState({\n      placavehiculo: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    var ahora = new Date();\n    const CitaObject = {\n      servicio: this.state.servicio,\n      mecanico: this.state.mecanico,\n      fecha: this.state.fecha,\n      estado: this.state.estado,\n      cedula: this.state.cedula,\n      email: this.state.email,\n      telefono: this.state.telefono,\n      cliente: this.state.cliente,\n      hora: this.state.hora,\n      placavehiculo: this.state.placavehiculo,\n      actualizado: ahora\n    };\n    axios.put('http://localhost:4000/citas/editar-cita/' + this.props.match.params.id, CitaObject).then(res => {\n      //console.log(res.data)\n      alert('Cita editada con exito');\n      window.location.reload();\n    }).catch(error => {\n      console.log(error);\n    });\n    const session = localStorage.getItem('token');\n    const sess = JSON.parse(session);\n    const usuarioMecanico = sess.usuario.tipo === 'Mecanico';\n    if (usuarioMecanico) this.props.history.push('/agenda/mecanico/' + sess.usuario._id);else this.props.history.push('/citas');\n  }\n\n  render() {\n    const servicios = this.state.servicios;\n    let servsList = servicios.length > 0 && servicios.map((item, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: item._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, item.nombre + ', Horas: ' + item.duracionhoras);\n    }, this);\n    const mecanicos = this.state.mecanicos;\n    let mecsList = mecanicos.length > 0 && mecanicos.map((item, i) => {\n      return React.createElement(\"option\", {\n        key: i,\n        value: item._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, item.nombre);\n    }, this);\n    const session = localStorage.getItem('token');\n    const sess = JSON.parse(session);\n    const usuarioMecanico = sess.usuario.tipo === 'Mecanico';\n    const usuarioPlanta = sess.usuario.tipo === 'Planta';\n    return React.createElement(\"div\", {\n      className: \"form-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Editar cita\"))))), React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Servicio\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      disabled: usuarioMecanico,\n      value: this.state.servicio._id,\n      onChange: this.onChangeServicio,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Seleccione (Servicio, Estimado)\"), servsList)), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Mecanico\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      disabled: usuarioMecanico,\n      className: \"form-select\",\n      value: this.state.mecanico._id,\n      onChange: this.onChangeMecanicoServicio,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"Seleccione\"), mecsList)), React.createElement(Form.Group, {\n      controlId: \"Cliente\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Cliente\")), React.createElement(Form.Control, {\n      disabled: usuarioMecanico,\n      type: \"text\",\n      value: this.state.cliente,\n      onChange: this.onChangeCliente,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"Cedula\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Cedula\")), React.createElement(Form.Control, {\n      disabled: usuarioMecanico,\n      type: \"number\",\n      value: this.state.cedula,\n      onChange: this.onChangeCedula,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Email\")), React.createElement(Form.Control, {\n      disabled: usuarioMecanico,\n      type: \"email\",\n      value: this.state.email,\n      onChange: this.onChangeEmail,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"Telefono\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"Telefono\")), React.createElement(Form.Control, {\n      disabled: usuarioMecanico,\n      type: \"number\",\n      value: this.state.telefono,\n      onChange: this.onChangeTelefono,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"Estado\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"Estado\"))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-check form-check-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-check-input\",\n      type: \"radio\",\n      name: \"OpcionesEstado\",\n      id: \"Agendado\",\n      value: \"Agendado\",\n      checked: this.state.estado === \"Agendado\",\n      onChange: this.onChangeEstado,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form-check-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Agendado\")), !usuarioMecanico ? React.createElement(\"div\", {\n      className: \"form-check form-check-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-check-input\",\n      type: \"radio\",\n      name: \"OpcionesEstado\",\n      id: \"Cancelado\",\n      value: \"Cancelado\",\n      checked: this.state.estado === \"Cancelado\",\n      onChange: this.onChangeEstado,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form-check-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"Cancelado\")) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }), !usuarioPlanta ? React.createElement(\"div\", {\n      className: \"form-check form-check-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-check-input\",\n      type: \"radio\",\n      name: \"OpcionesEstado\",\n      id: \"Completo\",\n      value: \"Completo\",\n      checked: this.state.estado === \"Completo\",\n      onChange: this.onChangeEstado,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form-check-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"Completo\")) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"Fecha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"Fecha\")), React.createElement(Form.Control, {\n      disabled: usuarioMecanico,\n      type: \"Date\",\n      value: this.state.fecha,\n      onChange: this.onChangeFecha,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, \"Hora\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      disabled: usuarioMecanico,\n      value: this.state.hora,\n      onChange: this.onChangeHora,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, \"8:00 am\"), React.createElement(\"option\", {\n      value: \"9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"9:00 am\"), React.createElement(\"option\", {\n      value: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, \"10:00 am\"), React.createElement(\"option\", {\n      value: \"11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, \"11:00 am\"), React.createElement(\"option\", {\n      value: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, \"12:00 pm\"), React.createElement(\"option\", {\n      value: \"13\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, \"1:00 pm\"), React.createElement(\"option\", {\n      value: \"14\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, \"2:00 pm\"), React.createElement(\"option\", {\n      value: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, \"3:00 pm\"), React.createElement(\"option\", {\n      value: \"16\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, \"4:00 pm\"), React.createElement(\"option\", {\n      value: \"17\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"5:00 pm\"))), React.createElement(Form.Group, {\n      controlId: \"Descripcion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, \"Placa Vehiculo\")), React.createElement(Form.Control, {\n      disabled: usuarioMecanico,\n      type: \"text\",\n      value: this.state.placavehiculo,\n      onChange: this.onChangePlacaVehiculo,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"danger\",\n      size: \"lg\",\n      block: \"block\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, \"Editar Cita\")));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\lucas\\Downloads\\Macautec-Jeimy-Cliente\\src\\components\\editar-cita.component.js"],"names":["React","Component","Form","Button","axios","Table","EditarCita","constructor","props","onChangeServicio","bind","onChangeMecanicoServicio","onChangeEstado","onChangeCliente","onChangeCedula","onChangeEmail","onChangeTelefono","onChangeFecha","onChangeHora","onChangePlacaVehiculo","onSubmit","state","servicio","mecanico","cliente","cedula","email","telefono","estado","fecha","hora","placavehiculo","servicios","mecanicos","componentDidMount","get","match","params","id","then","res","data","_id","setState","split","catch","error","console","log","e","found","i","length","target","value","preventDefault","ahora","Date","CitaObject","actualizado","put","alert","window","location","reload","session","localStorage","getItem","sess","JSON","parse","usuarioMecanico","usuario","tipo","history","push","render","servsList","map","item","nombre","duracionhoras","mecsList","usuarioPlanta"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AAEA,eAAe,MAAMC,UAAN,SAAyBL,SAAzB,CAAmC;AAEhDM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN,EADiB,CAIjB;;AACA,SAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKC,wBAAL,GAAgC,KAAKA,wBAAL,CAA8BD,IAA9B,CAAmC,IAAnC,CAAhC;AACA,SAAKE,cAAL,GAAsB,KAAKA,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKG,eAAL,GAAuB,KAAKA,eAAL,CAAqBH,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKI,cAAL,GAAsB,KAAKA,cAAL,CAAoBJ,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKK,aAAL,GAAqB,KAAKA,aAAL,CAAmBL,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKM,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBN,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKO,aAAL,GAAqB,KAAKA,aAAL,CAAmBP,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKQ,YAAL,GAAoB,KAAKA,YAAL,CAAkBR,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKS,qBAAL,GAA6B,KAAKA,qBAAL,CAA2BT,IAA3B,CAAgC,IAAhC,CAA7B;AACA,SAAKU,QAAL,GAAgB,KAAKA,QAAL,CAAcV,IAAd,CAAmB,IAAnB,CAAhB,CAfiB,CAiBjB;;AACA,SAAKW,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,QAAQ,EAAC,EAFE;AAGXC,MAAAA,OAAO,EAAC,EAHG;AAIXC,MAAAA,MAAM,EAAC,EAJI;AAKXC,MAAAA,KAAK,EAAC,EALK;AAMXC,MAAAA,QAAQ,EAAC,EANE;AAOXC,MAAAA,MAAM,EAAE,UAPG;AAQXC,MAAAA,KAAK,EAAE,EARI;AASXC,MAAAA,IAAI,EAAE,EATK;AAUXC,MAAAA,aAAa,EAAE,EAVJ;AAWXC,MAAAA,SAAS,EAAC,EAXC;AAYXC,MAAAA,SAAS,EAAC;AAZC,KAAb;AAcD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB9B,IAAAA,KAAK,CAAC+B,GAAN,CAAU,6CAA6C,KAAK3B,KAAL,CAAW4B,KAAX,CAAiBC,MAAjB,CAAwBC,EAA/E,EACGC,IADH,CACQC,GAAG,IAAI;AACX,UAAIF,EAAE,GAAG,EAAT;;AACA,UAAGE,GAAG,CAACC,IAAJ,CAASlB,QAAZ,EAAqB;AACnBe,QAAAA,EAAE,GAAGE,GAAG,CAACC,IAAJ,CAASlB,QAAd;AACD,OAFD,MAEK;AACHe,QAAAA,EAAE,GAAG;AAACI,UAAAA,GAAG,EAAC;AAAL,SAAL;AACD;;AAED,WAAKC,QAAL,CAAc;AACZrB,QAAAA,QAAQ,EAAEkB,GAAG,CAACC,IAAJ,CAASnB,QADP;AAEZC,QAAAA,QAAQ,EAACe,EAFG;AAGZd,QAAAA,OAAO,EAACgB,GAAG,CAACC,IAAJ,CAASjB,OAHL;AAIZC,QAAAA,MAAM,EAACe,GAAG,CAACC,IAAJ,CAAShB,MAJJ;AAKZC,QAAAA,KAAK,EAACc,GAAG,CAACC,IAAJ,CAASf,KALH;AAMZC,QAAAA,QAAQ,EAACa,GAAG,CAACC,IAAJ,CAASd,QANN;AAOZC,QAAAA,MAAM,EAACY,GAAG,CAACC,IAAJ,CAASb,MAPJ;AAQZC,QAAAA,KAAK,EAAEW,GAAG,CAACC,IAAJ,CAASZ,KAAT,CAAee,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CARK;AASZd,QAAAA,IAAI,EAAEU,GAAG,CAACC,IAAJ,CAASX,IATH;AAUZC,QAAAA,aAAa,EAAES,GAAG,CAACC,IAAJ,CAASV,aAVZ;AAWZC,QAAAA,SAAS,EAAC,KAAKX,KAAL,CAAWW,SAXT;AAYZC,QAAAA,SAAS,EAAC,KAAKZ,KAAL,CAAWY;AAZT,OAAd;AAcD,KAvBH,EAwBGY,KAxBH,CAwBUC,KAAD,IAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KA1BH;AA4BE1C,IAAAA,KAAK,CAAC+B,GAAN,CAAU,yCAAV,EAAqDI,IAArD,CAA0DC,GAAG,IAAI;AAC/D,WAAKG,QAAL,CAAc;AACZX,QAAAA,SAAS,EAAEQ,GAAG,CAACC;AADH,OAAd;AAGD,KAJD;AAMArC,IAAAA,KAAK,CAAC+B,GAAN,CAAU,0CAAV,EAAsDI,IAAtD,CAA2DC,GAAG,IAAI;AAEhE,WAAKG,QAAL,CAAc;AACZV,QAAAA,SAAS,EAAEO,GAAG,CAACC;AADH,OAAd;AAGD,KALD;AAOH;;AAEDhC,EAAAA,gBAAgB,CAACwC,CAAD,EAAI;AAClB,QAAIC,KAAK,GAAG,KAAZ;AACA,QAAIC,CAAC,GAAG,CAAR;;AACA,WAAM,CAACD,KAAD,IAAUC,CAAC,GAAG,KAAK9B,KAAL,CAAWW,SAAX,CAAqBoB,MAAzC,EAAgD;AAE9C,UAAG,KAAK/B,KAAL,CAAWW,SAAX,CAAqBmB,CAArB,EAAwBT,GAAxB,KAAgCO,CAAC,CAACI,MAAF,CAASC,KAA5C,EAAkD;AAChD,aAAKX,QAAL,CAAc;AAAErB,UAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWW,SAAX,CAAqBmB,CAArB;AAAZ,SAAd;AACAD,QAAAA,KAAK,GAAG,IAAR;AACD;;AACDC,MAAAA,CAAC;AACF;AACF;;AAEDxC,EAAAA,wBAAwB,CAACsC,CAAD,EAAI;AAC1B,QAAIC,KAAK,GAAG,KAAZ;AACA,QAAIC,CAAC,GAAG,CAAR;;AACA,WAAM,CAACD,KAAD,IAAUC,CAAC,GAAG,KAAK9B,KAAL,CAAWY,SAAX,CAAqBmB,MAAzC,EAAgD;AAE9C,UAAG,KAAK/B,KAAL,CAAWY,SAAX,CAAqBkB,CAArB,EAAwBT,GAAxB,KAAgCO,CAAC,CAACI,MAAF,CAASC,KAA5C,EAAkD;AAChD,aAAKX,QAAL,CAAc;AAAEpB,UAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWY,SAAX,CAAqBkB,CAArB;AAAZ,SAAd;AACAD,QAAAA,KAAK,GAAG,IAAR;AACD;;AACDC,MAAAA,CAAC;AACF;AACF;;AAEDtC,EAAAA,eAAe,CAACoC,CAAD,EAAI;AACjB,SAAKN,QAAL,CAAc;AAAEnB,MAAAA,OAAO,EAAEyB,CAAC,CAACI,MAAF,CAASC;AAApB,KAAd;AACD;;AAEDxC,EAAAA,cAAc,CAACmC,CAAD,EAAI;AAChB,SAAKN,QAAL,CAAc;AAAElB,MAAAA,MAAM,EAAEwB,CAAC,CAACI,MAAF,CAASC;AAAnB,KAAd;AACD;;AAEDvC,EAAAA,aAAa,CAACkC,CAAD,EAAI;AACf,SAAKN,QAAL,CAAc;AAAEjB,MAAAA,KAAK,EAAEuB,CAAC,CAACI,MAAF,CAASC;AAAlB,KAAd;AACD;;AAEDtC,EAAAA,gBAAgB,CAACiC,CAAD,EAAI;AAClB,SAAKN,QAAL,CAAc;AAAEhB,MAAAA,QAAQ,EAAEsB,CAAC,CAACI,MAAF,CAASC;AAArB,KAAd;AACD;;AAED1C,EAAAA,cAAc,CAACqC,CAAD,EAAI;AAChB,SAAKN,QAAL,CAAc;AAAEf,MAAAA,MAAM,EAAEqB,CAAC,CAACI,MAAF,CAASC;AAAnB,KAAd;AACD;;AAEDrC,EAAAA,aAAa,CAACgC,CAAD,EAAI;AACf,SAAKN,QAAL,CAAc;AAAEd,MAAAA,KAAK,EAAEoB,CAAC,CAACI,MAAF,CAASC;AAAlB,KAAd;AACD;;AAEDpC,EAAAA,YAAY,CAAC+B,CAAD,EAAI;AACd,SAAKN,QAAL,CAAc;AAAEb,MAAAA,IAAI,EAAEmB,CAAC,CAACI,MAAF,CAASC;AAAjB,KAAd;AACD;;AAEDnC,EAAAA,qBAAqB,CAAC8B,CAAD,EAAI;AACvB,SAAKN,QAAL,CAAc;AAAEZ,MAAAA,aAAa,EAAEkB,CAAC,CAACI,MAAF,CAASC;AAA1B,KAAd;AACD;;AAEDlC,EAAAA,QAAQ,CAAC6B,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACM,cAAF;AACA,QAAIC,KAAK,GAAG,IAAIC,IAAJ,EAAZ;AACA,UAAMC,UAAU,GAAG;AACjBpC,MAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QADJ;AAEjBC,MAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE,QAFJ;AAGjBM,MAAAA,KAAK,EAAE,KAAKR,KAAL,CAAWQ,KAHD;AAIjBD,MAAAA,MAAM,EAAE,KAAKP,KAAL,CAAWO,MAJF;AAKjBH,MAAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWI,MALF;AAMjBC,MAAAA,KAAK,EAAE,KAAKL,KAAL,CAAWK,KAND;AAOjBC,MAAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWM,QAPJ;AAQjBH,MAAAA,OAAO,EAAE,KAAKH,KAAL,CAAWG,OARH;AASjBM,MAAAA,IAAI,EAAE,KAAKT,KAAL,CAAWS,IATA;AAUjBC,MAAAA,aAAa,EAAE,KAAKV,KAAL,CAAWU,aAVT;AAWjB4B,MAAAA,WAAW,EAAEH;AAXI,KAAnB;AAcApD,IAAAA,KAAK,CAACwD,GAAN,CAAU,6CAA6C,KAAKpD,KAAL,CAAW4B,KAAX,CAAiBC,MAAjB,CAAwBC,EAA/E,EAAmFoB,UAAnF,EACGnB,IADH,CACSC,GAAD,IAAS;AACb;AACAqB,MAAAA,KAAK,CAAC,wBAAD,CAAL;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,KALH,EAKKnB,KALL,CAKYC,KAAD,IAAW;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAPH;AAQE,UAAMmB,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAhB;AACA,UAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,OAAX,CAAb;AAEA,UAAMM,eAAe,GAAGH,IAAI,CAACI,OAAL,CAAaC,IAAb,KAAsB,UAA9C;AAEA,QAAGF,eAAH,EACE,KAAK/D,KAAL,CAAWkE,OAAX,CAAmBC,IAAnB,CAAwB,sBAAoBP,IAAI,CAACI,OAAL,CAAa9B,GAAzD,EADF,KAGE,KAAKlC,KAAL,CAAWkE,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACL;;AAGDC,EAAAA,MAAM,GAAG;AAAA,UAEC5C,SAFD,GAEe,KAAKX,KAFpB,CAECW,SAFD;AAIP,QAAI6C,SAAS,GAAG7C,SAAS,CAACoB,MAAV,GAAmB,CAAnB,IACXpB,SAAS,CAAC8C,GAAV,CAAc,CAACC,IAAD,EAAO5B,CAAP,KAAa;AAC9B,aACE;AAAQ,QAAA,GAAG,EAAEA,CAAb;AAAgB,QAAA,KAAK,EAAE4B,IAAI,CAACrC,GAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkCqC,IAAI,CAACC,MAAL,GAAY,WAAZ,GAAwBD,IAAI,CAACE,aAA/D,CADF;AAGD,KAJI,EAIF,IAJE,CADL;AAJO,UAWChD,SAXD,GAWe,KAAKZ,KAXpB,CAWCY,SAXD;AAaP,QAAIiD,QAAQ,GAAGjD,SAAS,CAACmB,MAAV,GAAmB,CAAnB,IACVnB,SAAS,CAAC6C,GAAV,CAAc,CAACC,IAAD,EAAO5B,CAAP,KAAa;AAC9B,aACE;AAAQ,QAAA,GAAG,EAAEA,CAAb;AAAgB,QAAA,KAAK,EAAE4B,IAAI,CAACrC,GAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkCqC,IAAI,CAACC,MAAvC,CADF;AAGD,KAJI,EAIF,IAJE,CADL;AAOA,UAAMf,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAhB;AACA,UAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,OAAX,CAAb;AAEA,UAAMM,eAAe,GAAGH,IAAI,CAACI,OAAL,CAAaC,IAAb,KAAsB,UAA9C;AACA,UAAMU,aAAa,GAAGf,IAAI,CAACI,OAAL,CAAaC,IAAb,KAAsB,QAA5C;AAEA,WAAQ;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACN,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAJ,CADF,CADF,CADF,CADM,EAQN,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKrD,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADJ,EAIM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJN,EAKQ;AAAQ,MAAA,QAAQ,EAAEmD,eAAlB;AAAmC,MAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWC,QAAX,CAAoBoB,GAA9D;AAAmE,MAAA,QAAQ,EAAE,KAAKjC,gBAAlF;AAAoG,MAAA,QAAQ,MAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADF,EAEGoE,SAFH,CALR,CAFA,EAaE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAKM;AAAQ,MAAA,QAAQ,EAAEN,eAAlB;AAAmC,MAAA,SAAS,EAAC,aAA7C;AAA2D,MAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWE,QAAX,CAAoBmB,GAAtF;AAA2F,MAAA,QAAQ,EAAE,KAAK/B,wBAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEGuE,QAFH,CALN,CAbF,EAyBE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAZ,CADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,QAAQ,EAAEX,eAAxB;AAAyC,MAAA,IAAI,EAAC,MAA9C;AAAqD,MAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWG,OAAvE;AAAgF,MAAA,QAAQ,EAAE,KAAKX,eAA/F;AAAgH,MAAA,QAAQ,MAAxH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAzBF,EA8BE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAZ,CADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,QAAQ,EAAE0D,eAAxB;AAAyC,MAAA,IAAI,EAAC,QAA9C;AAAuD,MAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWI,MAAzE;AAAiF,MAAA,QAAQ,EAAE,KAAKX,cAAhG;AAAgH,MAAA,QAAQ,MAAxH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CA9BF,EAmCE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAZ,CADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,QAAQ,EAAEyD,eAAxB;AAAyC,MAAA,IAAI,EAAC,OAA9C;AAAsD,MAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWK,KAAxE;AAA+E,MAAA,QAAQ,EAAE,KAAKX,aAA9F;AAA6G,MAAA,QAAQ,MAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAnCF,EAwCE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAZ,CADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,QAAQ,EAAEwD,eAAxB;AAAyC,MAAA,IAAI,EAAC,QAA9C;AAAuD,MAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWM,QAAzE;AAAmF,MAAA,QAAQ,EAAE,KAAKX,gBAAlG;AAAoH,MAAA,QAAQ,MAA5H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAxCF,EA6CE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAZ,CADF,CA7CF,EAgDE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,kBADZ;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,IAAI,EAAC,gBAHP;AAIE,MAAA,EAAE,EAAC,UAJL;AAKE,MAAA,KAAK,EAAC,UALR;AAME,MAAA,OAAO,EAAE,KAAKK,KAAL,CAAWO,MAAX,KAAsB,UANjC;AAOE,MAAA,QAAQ,EAAE,KAAKhB,cAPjB;AAQE,MAAA,QAAQ,MARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAWE;AAAO,MAAA,SAAS,EAAC,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF,CADJ,EAcK,CAAC2D,eAAD,GACD;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,kBADZ;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,IAAI,EAAC,gBAHP;AAIE,MAAA,EAAE,EAAC,WAJL;AAKE,MAAA,KAAK,EAAC,WALR;AAME,MAAA,OAAO,EAAE,KAAKlD,KAAL,CAAWO,MAAX,KAAsB,WANjC;AAOE,MAAA,QAAQ,EAAE,KAAKhB,cAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAUE;AAAO,MAAA,SAAS,EAAC,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAVF,CADC,GAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3BP,EA4BK,CAACuE,aAAD,GACD;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,kBADZ;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,IAAI,EAAC,gBAHP;AAIE,MAAA,EAAE,EAAC,UAJL;AAKE,MAAA,KAAK,EAAC,UALR;AAME,MAAA,OAAO,EAAE,KAAK9D,KAAL,CAAWO,MAAX,KAAsB,UANjC;AAOE,MAAA,QAAQ,EAAE,KAAKhB,cAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAUE;AAAO,MAAA,SAAS,EAAC,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVF,CADC,GAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzCP,CAhDF,EA4FE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAZ,CADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,QAAQ,EAAE2D,eAAxB;AAAyC,MAAA,IAAI,EAAC,MAA9C;AAAqD,MAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWQ,KAAvE;AAA8E,MAAA,QAAQ,EAAE,KAAKZ,aAA7F;AAA4G,MAAA,QAAQ,MAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CA5FF,EAiGE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADF,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAKM;AAAQ,MAAA,QAAQ,EAAEsD,eAAlB;AAAmC,MAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWS,IAArD;AAA2D,MAAA,QAAQ,EAAE,KAAKZ,YAA1E;AAAwF,MAAA,QAAQ,MAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,EAGE;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,EAIE;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,EAKE;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,EAME;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBANF,EAOE;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAPF,EAQE;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARF,EASE;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATF,EAUE;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAVF,CALN,CAjGF,EAoHE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAZ,CADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,QAAQ,EAAEqD,eAAxB;AAAyC,MAAA,IAAI,EAAC,MAA9C;AAAqD,MAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWU,aAAvE;AAAsF,MAAA,QAAQ,EAAE,KAAKZ,qBAArG;AAA4H,MAAA,QAAQ,MAApI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CApHF,EAyHE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,QAAhB;AAAyB,MAAA,IAAI,EAAC,IAA9B;AAAmC,MAAA,KAAK,EAAC,OAAzC;AAAiD,MAAA,IAAI,EAAC,QAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAzHF,CARM,CAAR;AAsID;;AA/U+C","sourcesContent":["import React, { Component } from \"react\";\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\nimport Table from 'react-bootstrap/Table';\n\nexport default class EditarCita extends Component {\n\n  constructor(props) {\n    super(props)\n\n    \n    // Setting up functions\n    this.onChangeServicio = this.onChangeServicio.bind(this);\n    this.onChangeMecanicoServicio = this.onChangeMecanicoServicio.bind(this);\n    this.onChangeEstado = this.onChangeEstado.bind(this);\n    this.onChangeCliente = this.onChangeCliente.bind(this);\n    this.onChangeCedula = this.onChangeCedula.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangeTelefono = this.onChangeTelefono.bind(this);\n    this.onChangeFecha = this.onChangeFecha.bind(this);\n    this.onChangeHora = this.onChangeHora.bind(this);\n    this.onChangePlacaVehiculo = this.onChangePlacaVehiculo.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    // Setting up state\n    this.state = {\n      servicio: {},\n      mecanico:{},\n      cliente:'',\n      cedula:'',\n      email:'',\n      telefono:'',\n      estado: 'Agendada',\n      fecha: '',      \n      hora: '',\n      placavehiculo: '',\n      servicios:[],\n      mecanicos:[]\n    }\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4000/citas/editar-cita/' + this.props.match.params.id)\n      .then(res => {\n        var id = {}\n        if(res.data.mecanico){\n          id = res.data.mecanico          \n        }else{\n          id = {_id:''}\n        }\n\n        this.setState({\n          servicio: res.data.servicio,\n          mecanico:id,\n          cliente:res.data.cliente,\n          cedula:res.data.cedula,\n          email:res.data.email,\n          telefono:res.data.telefono,\n          estado:res.data.estado,\n          fecha: res.data.fecha.split('T')[0],\n          hora: res.data.hora,\n          placavehiculo: res.data.placavehiculo,          \n          servicios:this.state.servicios,\n          mecanicos:this.state.mecanicos\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n\n      axios.get('http://localhost:4000/servicios/activos').then(res => {\n        this.setState({\n          servicios: res.data\n        });\n      });\n      \n      axios.get('http://localhost:4000/usuarios/mecanicos').then(res => {\n    \n        this.setState({\n          mecanicos: res.data\n        });\n      });\n      \n  }\n\n  onChangeServicio(e) {\n    var found = false\n    var i = 0\n    while(!found && i < this.state.servicios.length){\n\n      if(this.state.servicios[i]._id === e.target.value){\n        this.setState({ servicio: this.state.servicios[i]})        \n        found = true\n      }\n      i++\n    }\n  }\n\n  onChangeMecanicoServicio(e) {\n    var found = false\n    var i = 0\n    while(!found && i < this.state.mecanicos.length){\n\n      if(this.state.mecanicos[i]._id === e.target.value){        \n        this.setState({ mecanico: this.state.mecanicos[i]})        \n        found = true\n      }\n      i++\n    }\n  }\n  \n  onChangeCliente(e) {\n    this.setState({ cliente: e.target.value })\n  }\n\n  onChangeCedula(e) {\n    this.setState({ cedula: e.target.value })\n  }\n\n  onChangeEmail(e) {\n    this.setState({ email: e.target.value })\n  }\n\n  onChangeTelefono(e) {\n    this.setState({ telefono: e.target.value })\n  }\n\n  onChangeEstado(e) {\n    this.setState({ estado: e.target.value })\n  }\n\n  onChangeFecha(e) {\n    this.setState({ fecha: e.target.value })\n  }\n\n  onChangeHora(e) {\n    this.setState({ hora: e.target.value })\n  }\n\n  onChangePlacaVehiculo(e) {\n    this.setState({ placavehiculo: e.target.value })\n  }\n\n  onSubmit(e) {\n    e.preventDefault()\n    var ahora = new Date()\n    const CitaObject = {\n      servicio: this.state.servicio,\n      mecanico: this.state.mecanico,\n      fecha: this.state.fecha,\n      estado: this.state.estado,\n      cedula: this.state.cedula,\n      email: this.state.email,\n      telefono: this.state.telefono,\n      cliente: this.state.cliente,\n      hora: this.state.hora,\n      placavehiculo: this.state.placavehiculo,      \n      actualizado: ahora\n    };\n\n    axios.put('http://localhost:4000/citas/editar-cita/' + this.props.match.params.id, CitaObject)\n      .then((res) => {\n        //console.log(res.data)\n        alert('Cita editada con exito')\n        window.location.reload()\n      }).catch((error) => {\n        console.log(error)\n      })\n      const session = localStorage.getItem('token');\n      const sess = JSON.parse(session)\n  \n      const usuarioMecanico = sess.usuario.tipo === 'Mecanico'      \n      \n      if(usuarioMecanico)      \n        this.props.history.push('/agenda/mecanico/'+sess.usuario._id)\n      else\n        this.props.history.push('/citas')\n  }\n\n\n  render() {\n\n    const { servicios } = this.state;\n\n    let servsList = servicios.length > 0\n      && servicios.map((item, i) => {\n      return (\n        <option key={i} value={item._id}>{item.nombre+', Horas: '+item.duracionhoras}</option>\n      )\n    }, this);\n\n    const { mecanicos } = this.state;\n\n    let mecsList = mecanicos.length > 0\n      && mecanicos.map((item, i) => {\n      return (\n        <option key={i} value={item._id}>{item.nombre}</option>\n      )\n    }, this);\n\n    const session = localStorage.getItem('token');\n    const sess = JSON.parse(session)\n\n    const usuarioMecanico = sess.usuario.tipo === 'Mecanico'\n    const usuarioPlanta = sess.usuario.tipo === 'Planta'\n\n    return (<div className=\"form-wrapper\">\n      <Table>\n        <thead>\n          <tr>\n            <th><h1>Editar cita</h1></th>\n          </tr>\n        </thead>\n      </Table>\n      <Form onSubmit={this.onSubmit}>\n        \n      <div className=\"form-group\" >\n          <label>\n            <strong>Servicio</strong>\n            </label>\n            <br></br>\n              <select disabled={usuarioMecanico} value={this.state.servicio._id} onChange={this.onChangeServicio} required>\n                <option value=\"\">Seleccione (Servicio, Estimado)</option>\n                {servsList}\n              </select>\n        </div>\n\n        <div className=\"form-group\" >\n          <label>\n            <strong>Mecanico</strong>\n            </label>\n            <br></br>\n              <select disabled={usuarioMecanico} className=\"form-select\" value={this.state.mecanico._id} onChange={this.onChangeMecanicoServicio}>\n                <option>Seleccione</option>\n                {mecsList}\n              </select>\n            \n        </div>\n        \n        <Form.Group controlId=\"Cliente\">\n          <Form.Label><strong>Cliente</strong></Form.Label>\n          <Form.Control disabled={usuarioMecanico} type=\"text\" value={this.state.cliente} onChange={this.onChangeCliente} required/>\n        </Form.Group>\n\n        <Form.Group controlId=\"Cedula\">\n          <Form.Label><strong>Cedula</strong></Form.Label>\n          <Form.Control disabled={usuarioMecanico} type=\"number\" value={this.state.cedula} onChange={this.onChangeCedula} required/>\n        </Form.Group>\n\n        <Form.Group controlId=\"Email\">\n          <Form.Label><strong>Email</strong></Form.Label>\n          <Form.Control disabled={usuarioMecanico} type=\"email\" value={this.state.email} onChange={this.onChangeEmail} required/>\n        </Form.Group>\n\n        <Form.Group controlId=\"Telefono\">\n          <Form.Label><strong>Telefono</strong></Form.Label>\n          <Form.Control disabled={usuarioMecanico} type=\"number\" value={this.state.telefono} onChange={this.onChangeTelefono} required/>\n        </Form.Group>\n        \n        <Form.Group controlId=\"Estado\">\n          <Form.Label><strong>Estado</strong></Form.Label>\n        </Form.Group>\n        <div className=\"form-group\">\n            <div className=\"form-check form-check-inline\">\n              <input\n                className=\"form-check-input\"\n                type=\"radio\"\n                name=\"OpcionesEstado\"\n                id=\"Agendado\"\n                value=\"Agendado\"\n                checked={this.state.estado === \"Agendado\"}\n                onChange={this.onChangeEstado}\n                required\n              />\n              <label className=\"form-check-label\">Agendado</label>\n            </div>\n            {!usuarioMecanico ? (\n            <div className=\"form-check form-check-inline\">\n              <input\n                className=\"form-check-input\"\n                type=\"radio\"\n                name=\"OpcionesEstado\"\n                id=\"Cancelado\"\n                value=\"Cancelado\"\n                checked={this.state.estado === \"Cancelado\"}\n                onChange={this.onChangeEstado}\n              />\n              <label className=\"form-check-label\">Cancelado</label>\n            </div>\n            ):(<div></div>)}\n            {!usuarioPlanta ? (\n            <div className=\"form-check form-check-inline\">\n              <input\n                className=\"form-check-input\"\n                type=\"radio\"\n                name=\"OpcionesEstado\"\n                id=\"Completo\"\n                value=\"Completo\"\n                checked={this.state.estado === \"Completo\"}\n                onChange={this.onChangeEstado}\n              />\n              <label className=\"form-check-label\">Completo</label>\n            </div>\n            ):(<div></div>)}\n          </div>\n\n        <Form.Group controlId=\"Fecha\">\n          <Form.Label><strong>Fecha</strong></Form.Label>\n          <Form.Control disabled={usuarioMecanico} type=\"Date\" value={this.state.fecha} onChange={this.onChangeFecha} required/>\n        </Form.Group>\n\n        <div className=\"form-group\" >\n          <label>\n            <strong>Hora</strong>\n            </label>\n            <br></br>\n              <select disabled={usuarioMecanico} value={this.state.hora} onChange={this.onChangeHora} required>\n                <option value=\"8\">8:00 am</option>\n                <option value=\"9\">9:00 am</option>\n                <option value=\"10\">10:00 am</option>\n                <option value=\"11\">11:00 am</option>\n                <option value=\"12\">12:00 pm</option>\n                <option value=\"13\">1:00 pm</option>\n                <option value=\"14\">2:00 pm</option>\n                <option value=\"15\">3:00 pm</option>\n                <option value=\"16\">4:00 pm</option>\n                <option value=\"17\">5:00 pm</option>\n              </select>\n        </div>\n\n        <Form.Group controlId=\"Descripcion\">\n          <Form.Label><strong>Placa Vehiculo</strong></Form.Label>\n          <Form.Control disabled={usuarioMecanico} type=\"text\" value={this.state.placavehiculo} onChange={this.onChangePlacaVehiculo} required/>\n        </Form.Group>\n\n        <Button variant=\"danger\" size=\"lg\" block=\"block\" type=\"submit\">\n          Editar Cita\n        </Button>\n      </Form>\n    </div>);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}