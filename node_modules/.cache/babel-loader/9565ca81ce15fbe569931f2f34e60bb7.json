{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lucas\\\\Downloads\\\\Macautec-Jeimy-Cliente\\\\src\\\\components\\\\agenda-servicio-component.js\";\nimport React from 'react';\nimport { ReactAgenda, guid } from 'react-agenda';\nimport axios from 'axios';\nimport Table from 'react-bootstrap/Table'; //https://github.com/revln9/react-agenda AQUI LA GUIA PARA LA AGENDA\n\nrequire('../../node_modules/moment/locale/es.js');\n\nvar filtroColor = {\n  \"Revisi贸n de frenos\": \"0\",\n  \"Pastillas\": \"1\",\n  \"Discos\": \"2\",\n  \"Suspensi贸n\": \"3\",\n  \"Amortiguadores\": \"4\",\n  \"Cambio de aceite\": \"5\",\n  \"Alineaci贸n\": \"6\",\n  \"Rotaci贸n de llantas\": \"7\" //saque los colores de aca .\n  //https://www.rapidtables.com/web/color/RGB_Color.html\n\n};\nvar colors = {\n  '0': \"rgba(102, 195, 131 , 1)\",\n  \"1\": \"rgba(242, 177, 52, 1)\",\n  \"2\": \"rgba(235, 85, 59, 1)\",\n  \"3\": \"rgba(102, 102, 255, 1)\",\n  \"4\": \"rgba(102, 255, 102, 1)\",\n  \"5\": \"rgba(255, 255, 102, 1)\",\n  \"6\": \"rgba(255, 153, 51, 1)\",\n  \"7\": \"rgba(102, 255, 178, 1)\"\n};\nvar now = new Date();\nvar items = [];\nexport default class AgendaServicio extends React.Component {\n  constructor(props) {\n    super(props);\n    axios.get('http://localhost:4000/citas/servicio/' + this.props.match.params.id).then(res => {\n      console.log(res.data);\n      var data = res.data;\n      var items = [];\n      this.setState({\n        nombre: 'esta vacia'\n      });\n\n      for (var i = 0; i < data.length; i++) {\n        var dat = data[i].fecha;\n        this.setState({\n          nombre: data[i].servicio.nombre\n        });\n        dat = dat.split('T');\n        dat = dat[0].split('-');\n        var fechaAgendaInicio = new Date(dat[0], dat[1] - 1, dat[2], data[i].hora);\n        var fechaAgendaFin = new Date(dat[0], dat[1] - 1, dat[2], parseInt(data[i].hora) + parseInt(data[i].servicio.duracionhoras));\n        var agendaItem = {\n          _id: guid(),\n          id: data[i]._id,\n          name: data[i].servicio.nombre + ': ' + data[i].mecanico.nombre + ', ' + data[i].estado,\n          startDateTime: fechaAgendaInicio,\n          endDateTime: fechaAgendaFin,\n          classes: filtroColor[data[i].servicio.nombre] //console.log(agendaItem)\n\n        };\n        items.push(agendaItem);\n      }\n\n      this.setState({\n        items: items\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    this.state = {\n      items: items,\n      nombre: '',\n      selected: [],\n      cellHeight: 30,\n      showModal: false,\n      locale: \"es\",\n      rowsPerHour: 2,\n      numberOfDays: 5,\n      startDate: new Date()\n    };\n    this.handleCellSelection = this.handleCellSelection.bind(this);\n    this.handleItemEdit = this.handleItemEdit.bind(this);\n    this.handleRangeSelection = this.handleRangeSelection.bind(this);\n  }\n\n  handleCellSelection(item) {\n    console.log('handleCellSelection', item);\n  }\n\n  handleItemEdit(item) {\n    //console.log('handleItemEdit', item)\n    window.location.href = \"/editar-cita/\" + item.id;\n  }\n\n  handleRangeSelection(item) {\n    console.log('handleRangeSelection', item);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Agenda servicio: \", this.state.nombre))))), React.createElement(ReactAgenda, {\n      minDate: new Date(now.getFullYear(), now.getMonth() - 3, now.getDate()),\n      maxDate: new Date(now.getFullYear(), now.getMonth() + 3, now.getDate()),\n      disablePrevButton: false,\n      startDate: this.state.startDate,\n      cellHeight: this.state.cellHeight,\n      locale: this.state.locale,\n      items: this.state.items,\n      numberOfDays: this.state.numberOfDays,\n      rowsPerHour: this.state.rowsPerHour,\n      itemColors: colors,\n      autoScale: false,\n      fixedHeader: true,\n      onItemEdit: this.handleItemEdit.bind(this),\n      onCellSelect: this.handleCellSelection.bind(this),\n      onRangeSelection: this.handleRangeSelection.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\lucas\\Downloads\\Macautec-Jeimy-Cliente\\src\\components\\agenda-servicio-component.js"],"names":["React","ReactAgenda","guid","axios","Table","require","filtroColor","colors","now","Date","items","AgendaServicio","Component","constructor","props","get","match","params","id","then","res","console","log","data","setState","nombre","i","length","dat","fecha","servicio","split","fechaAgendaInicio","hora","fechaAgendaFin","parseInt","duracionhoras","agendaItem","_id","name","mecanico","estado","startDateTime","endDateTime","classes","push","catch","error","state","selected","cellHeight","showModal","locale","rowsPerHour","numberOfDays","startDate","handleCellSelection","bind","handleItemEdit","handleRangeSelection","item","window","location","href","render","getFullYear","getMonth","getDate"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { ReactAgenda, guid } from 'react-agenda';\nimport axios from 'axios';\nimport Table from 'react-bootstrap/Table';\n\n//https://github.com/revln9/react-agenda AQUI LA GUIA PARA LA AGENDA\n\n\nrequire('../../node_modules/moment/locale/es.js')\n\nvar filtroColor = {\n  \"Revisi贸n de frenos\":\"0\",\n  \"Pastillas\":\"1\",\n  \"Discos\":\"2\",\n  \"Suspensi贸n\":\"3\",\n  \"Amortiguadores\":\"4\",\n  \"Cambio de aceite\":\"5\",\n  \"Alineaci贸n\":\"6\",\n  \"Rotaci贸n de llantas\":\"7\"\n}\n\n//saque los colores de aca .\n//https://www.rapidtables.com/web/color/RGB_Color.html\nvar colors= {\n  '0':\"rgba(102, 195, 131 , 1)\" ,\n  \"1\":\"rgba(242, 177, 52, 1)\" ,\n  \"2\":\"rgba(235, 85, 59, 1)\" ,\n  \"3\":\"rgba(102, 102, 255, 1)\" ,\n  \"4\":\"rgba(102, 255, 102, 1)\" ,\n  \"5\":\"rgba(255, 255, 102, 1)\" ,\n  \"6\":\"rgba(255, 153, 51, 1)\" ,\n  \"7\":\"rgba(102, 255, 178, 1)\" \n}\n\nvar now = new Date();\nvar items = [];\n\nexport default class AgendaServicio extends React.Component {\n    constructor(props){\n    super(props);      \n\n      axios.get('http://localhost:4000/citas/servicio/'+this.props.match.params.id)\n      .then(res => {\n        console.log(res.data)\n        var data = res.data;         \n        var items = []\n        \n        this.setState({nombre: 'esta vacia'});\n\n        for(var i=0; i < data.length; i++){\n\n          var dat = data[i].fecha;\n\n          this.setState({nombre: data[i].servicio.nombre});\n\n          dat = dat.split('T');\n          dat = dat[0].split('-');\n\n          var fechaAgendaInicio = new Date(dat[0],dat[1] - 1,dat[2],data[i].hora);\n          var fechaAgendaFin = new Date(dat[0],dat[1] - 1,dat[2],parseInt(data[i].hora) + parseInt(data[i].servicio.duracionhoras));\n\n          var agendaItem = { \n            _id:guid(), \n            id: data[i]._id, \n            name: data[i].servicio.nombre + ': '+data[i].mecanico.nombre +', '+data[i].estado, \n            startDateTime: fechaAgendaInicio,\n            endDateTime   : fechaAgendaFin,\n            classes : filtroColor[data[i].servicio.nombre]\n          }\n          //console.log(agendaItem)\n          items.push(agendaItem);\n\n          \n        }        \n        this.setState({\n          items: items\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n\n      this.state = {\n        items:items,\n        nombre: '',\n        selected:[],\n        cellHeight:30,\n        showModal:false,\n        locale:\"es\",\n        rowsPerHour:2,\n        numberOfDays:5,\n        startDate: new Date()\n      }\n      this.handleCellSelection = this.handleCellSelection.bind(this)\n      this.handleItemEdit = this.handleItemEdit.bind(this)\n      this.handleRangeSelection = this.handleRangeSelection.bind(this)\n    }\n  \n  handleCellSelection(item){\n    console.log('handleCellSelection',item)\n  }\n  handleItemEdit(item){\n    //console.log('handleItemEdit', item)\n    window.location.href = \"/editar-cita/\"+item.id;\n  }\n  handleRangeSelection(item){\n    console.log('handleRangeSelection', item)\n  }\n    render() {\n      return (\n        <div>\n           <Table>\n            <thead>\n              <tr>\n                <th><h1>Agenda servicio: {this.state.nombre}</h1></th>\n              </tr>\n            </thead>\n          </Table>\n          <ReactAgenda\n            minDate={new Date(now.getFullYear(), now.getMonth()-3, now.getDate())}\n            maxDate={new Date(now.getFullYear(), now.getMonth()+3, now.getDate())}\n            disablePrevButton={false}\n            startDate={this.state.startDate}\n            cellHeight={this.state.cellHeight}\n            locale={this.state.locale}\n            items={this.state.items}\n            numberOfDays={this.state.numberOfDays}\n            rowsPerHour={this.state.rowsPerHour}\n            itemColors={colors}\n            autoScale={false}\n            fixedHeader={true}\n            onItemEdit={this.handleItemEdit.bind(this)}\n            onCellSelect={this.handleCellSelection.bind(this)}\n            onRangeSelection={this.handleRangeSelection.bind(this)}/>\n        </div>\n      );\n    }\n  }"]},"metadata":{},"sourceType":"module"}