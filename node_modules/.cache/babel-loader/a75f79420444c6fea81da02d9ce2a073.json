{"ast":null,"code":"module.exports = function (e) {\n  var t = {};\n\n  function a(n) {\n    if (t[n]) return t[n].exports;\n    var r = t[n] = {\n      i: n,\n      l: !1,\n      exports: {}\n    };\n    return e[n].call(r.exports, r, r.exports, a), r.l = !0, r.exports;\n  }\n\n  return a.m = e, a.c = t, a.d = function (e, t, n) {\n    a.o(e, t) || Object.defineProperty(e, t, {\n      enumerable: !0,\n      get: n\n    });\n  }, a.r = function (e) {\n    \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n      value: \"Module\"\n    }), Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, a.t = function (e, t) {\n    if (1 & t && (e = a(e)), 8 & t) return e;\n    if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (a.r(n), Object.defineProperty(n, \"default\", {\n      enumerable: !0,\n      value: e\n    }), 2 & t && \"string\" != typeof e) for (var r in e) a.d(n, r, function (t) {\n      return e[t];\n    }.bind(null, r));\n    return n;\n  }, a.n = function (e) {\n    var t = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return a.d(t, \"a\", t), t;\n  }, a.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, a.p = \"\", a(a.s = 4);\n}([function (e, t) {\n  e.exports = require(\"react\");\n}, function (e, t, a) {\n  e.exports = a(6)();\n}, function (e, t) {\n  e.exports = require(\"moment\");\n}, function (e, t, a) {\n  \"use strict\";\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.swapArrayElements = function (e, t, a) {\n    var n = e[a];\n    return e[a] = e[t], e[t] = n, e;\n  }, t.isMouseBeyond = function (e, t, a, n) {\n    var r;\n    r = n ? a / 2 : 0;\n    return e - t > r;\n  }, t.getUnique = function (e) {\n    return e.filter(function (t, a) {\n      return e.indexOf(t) == a;\n    });\n  }, t.getLast = s, t.getFirst = l, t.guid = function () {\n    function e() {\n      return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1);\n    }\n\n    return e() + e() + \"-\" + e() + \"-\" + e() + \"-\" + e() + \"-\" + e() + e() + e();\n  }, t.mapItems = function (e, t, a) {\n    var n = {};\n    return (e = e.sort(function (e, t) {\n      return e.startDateTime - t.startDateTime;\n    })).forEach(function (e) {\n      if (!e.startDateTime) return !1;\n      var a = 60 / t,\n          r = e.startDateTime.getMinutes() % a,\n          o = (0, i.default)(e.startDateTime).subtract(r, \"minutes\").toDate(),\n          d = (0, i.default)(e.endDateTime),\n          u = i.default.duration(d.diff(o));\n      e.duration = u;\n\n      for (var c = Math.ceil(u.asHours() / (a / 60)), f = [], p = 0; p < c; p++) {\n        var h = (0, i.default)(o).add(p * a, \"minutes\");\n        h = h.format(\"YYYY-MM-DDTHH:mm:00\"), f.push(h);\n      }\n\n      f.forEach(function (t) {\n        var a = Object.keys(e).filter(function (e) {\n          return !e.includes(\"classes\");\n        }).reduce(function (t, a) {\n          return t[a] = e[a], t;\n        }, {});\n\n        if (a.classes = n[t] ? n[t].classes + \" \" + e.classes : e.classes || \"\", a.cellRefs = [l(f), s(f)], n[t]) {\n          if (n[t]._id) {\n            var r = [n[t], a];\n            return void (n[t] = r);\n          }\n\n          return n[t][0] && !n[t]._id ? void n[t].push(a) : void 0;\n        }\n\n        n[t] = a;\n      });\n    }, this), n;\n  };\n  var n,\n      r = a(2),\n      i = (n = r) && n.__esModule ? n : {\n    default: n\n  };\n\n  function s(e) {\n    return e[e.length - 1];\n  }\n\n  function l(e) {\n    return e[0];\n  }\n}, function (e, t, a) {\n  \"use strict\";\n\n  var n = l(a(5)),\n      r = l(a(11)),\n      i = l(a(13)),\n      s = a(3);\n\n  function l(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n\n  a(22), e.exports = {\n    ReactAgenda: n.default,\n    ReactAgendaCtrl: r.default,\n    guid: s.guid,\n    getUnique: s.getUnique,\n    getLast: s.getLast,\n    getFirst: s.getFirst,\n    Modal: i.default\n  };\n}, function (e, t, a) {\n  \"use strict\";\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n\n  var n,\n      r,\n      i = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n    return typeof e;\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n  },\n      s = function () {\n    function e(e, t) {\n      for (var a = 0; a < t.length; a++) {\n        var n = t[a];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    return function (t, a, n) {\n      return a && e(t.prototype, a), n && e(t, n), t;\n    };\n  }(),\n      l = a(0),\n      o = h(l),\n      d = h(a(1)),\n      u = h(a(2)),\n      c = h(a(8)),\n      f = h(a(9)),\n      p = a(3);\n\n  !function (e) {\n    if (e && e.__esModule) return e;\n    var t = {};\n    if (null != e) for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);\n    t.default = e;\n  }(a(10));\n\n  function h(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n\n  var m,\n      g = !1,\n      v = (0, u.default)(),\n      y = !1,\n      b = {\n    name: \"\",\n    classes: \"\",\n    cellRefs: []\n  },\n      _ = {\n    x: 0,\n    y: 0,\n    startX: 0,\n    startY: 0\n  },\n      D = null,\n      E = null,\n      C = function (e) {\n    function t(e) {\n      !function (e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }(this, t);\n\n      var a = function (e, t) {\n        if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n      }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));\n\n      return a.state = {\n        date: (0, u.default)(),\n        items: {},\n        itemOverlayStyles: {},\n        highlightedCells: [],\n        numberOfDays: 4,\n        autoScaleNumber: 0,\n        focusedCell: null\n      }, a.handleBeforeUpdate = a.handleBeforeUpdate.bind(a), a.handleOnNextButtonClick = a.handleOnNextButtonClick.bind(a), a.handleOnPrevButtonClick = a.handleOnPrevButtonClick.bind(a), a.handleMouseClick = a.handleMouseClick.bind(a), a.handleMouseOver = a.handleMouseOver.bind(a), a.removeSelection = a.removeSelection.bind(a), a.handleAllClickStarts = a.handleAllClickStarts.bind(a), a.handleAllClickEnds = a.handleAllClickEnds.bind(a), a.onDragStart = a.onDragStart.bind(a), a.onDragEnter = a.onDragEnter.bind(a), a.onDragOver = a.onDragOver.bind(a), a.onDragEnd = a.onDragEnd.bind(a), a.onDragHandlerStart = a.onDragHandlerStart.bind(a), a.onDragHandlerEnd = a.onDragHandlerEnd.bind(a), a.getSelection = a.getSelection.bind(a), a.editEvent = a.editEvent.bind(a), a.removeEvent = a.removeEvent.bind(a), a.dragEvent = a.dragEvent.bind(a), a.duplicateEvent = a.duplicateEvent.bind(a), a.resizeEvent = a.resizeEvent.bind(a), a.updateDimensions = a.updateDimensions.bind(a), a;\n    }\n\n    return function (e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          enumerable: !1,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n    }(t, l.Component), s(t, [{\n      key: \"componentWillMount\",\n      value: function () {\n        this.handleBeforeUpdate(this.props), this.props.autoScale && window.removeEventListener(\"resize\", this.updateDimensions), this.props.locale && \"en\" != this.props.locale && u.default.locale(this.props.locale);\n      }\n    }, {\n      key: \"componentWillReceiveProps\",\n      value: function (e) {\n        this.handleBeforeUpdate(e);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function () {\n        this.props.autoScale && (window.addEventListener(\"resize\", this.updateDimensions), this.updateDimensions());\n      }\n    }, {\n      key: \"updateDimensions\",\n      value: function () {\n        var e = Math.round(document.getElementById(\"agenda-wrapper\").offsetWidth / 150 - 1);\n        this.setState({\n          autoScaleNumber: e,\n          numberOfDays: e\n        });\n      }\n    }, {\n      key: \"getHeaderColumns\",\n      value: function () {\n        for (var e = [], t = 0; t < this.state.numberOfDays; t++) e.push((0, u.default)(this.state.date).add(t, \"days\").toDate());\n\n        return e;\n      }\n    }, {\n      key: \"getBodyRows\",\n      value: function () {\n        var e = [],\n            t = 60 / this.props.rowsPerHour;\n\n        if (this.props.startAtTime && \"number\" == typeof this.props.startAtTime) {\n          for (var a = 0; a < 24 * this.props.rowsPerHour; a++) 0 != this.props.endAtTime && (this.props.endAtTime - this.props.startAtTime) * this.props.rowsPerHour >= a && e.push((0, u.default)(this.state.date).hours(this.props.startAtTime).minutes(0).seconds(0).milliseconds(0).add(Math.floor(a * t), \"minutes\"));\n\n          return e;\n        }\n\n        for (a = 0; a < 24 * this.props.rowsPerHour; a++) e.push((0, u.default)(this.state.date).hours(7).minutes(0).seconds(0).milliseconds(0).add(Math.floor(a * t), \"minutes\"));\n\n        return e;\n      }\n    }, {\n      key: \"getMinuteCells\",\n      value: function (e) {\n        for (var t = [], a = 0; a < this.state.numberOfDays; a++) {\n          var n = (0, u.default)(e).add(a, \"days\").format(\"YYYY-MM-DDTHH:mm:ss\");\n          t.push({\n            cellRef: n,\n            item: this.state.items[n] || b\n          });\n        }\n\n        return t;\n      }\n    }, {\n      key: \"handleBeforeUpdate\",\n      value: function (e) {\n        e.hasOwnProperty(\"startDate\") && e.startDate !== this.state.date.toDate() && this.setState({\n          date: (0, u.default)(e.startDate)\n        }), e.hasOwnProperty(\"items\") && this.setState({\n          items: (0, p.mapItems)(e.items, e.rowsPerHour, e.timezone)\n        }), e.hasOwnProperty(\"numberOfDays\") && e.numberOfDays !== this.state.numberOfDays && !this.props.autoScale && this.setState({\n          numberOfDays: e.numberOfDays\n        }), !e.hasOwnProperty(\"minDate\") || this.state.hasOwnProperty(\"minDate\") && e.minDate === this.state.minDate.toDate() || this.setState({\n          minDate: (0, u.default)(e.minDate)\n        }), !e.hasOwnProperty(\"maxDate\") || this.state.hasOwnProperty(\"maxDate\") && e.maxDate === this.state.maxDate.toDate() || this.setState({\n          maxDate: (0, u.default)(e.maxDate)\n        });\n      }\n    }, {\n      key: \"handleOnNextButtonClick\",\n      value: function () {\n        var e = (0, u.default)(this.state.date).add(this.state.numberOfDays, \"days\");\n        this.state.hasOwnProperty(\"maxDate\") && (e = u.default.min(e, this.state.maxDate));\n        var t = e,\n            a = (0, u.default)(t).add(this.state.numberOfDays - 1, \"days\");\n        e !== this.state.date && this.setState({\n          date: e\n        }), this.props.onDateRangeChange && this.props.onDateRangeChange(t.startOf(\"day\").toDate(), a.endOf(\"day\").toDate());\n      }\n    }, {\n      key: \"handleOnPrevButtonClick\",\n      value: function () {\n        var e = (0, u.default)(this.state.date).subtract(this.state.numberOfDays, \"days\");\n        this.state.hasOwnProperty(\"minDate\") && (e = u.default.max(e, this.state.minDate));\n        var t = e,\n            a = (0, u.default)(t).add(this.state.numberOfDays - 1, \"days\");\n        e !== this.state.date && this.setState({\n          date: e\n        }), this.props.onDateRangeChange && this.props.onDateRangeChange(t.toDate(), a.toDate());\n      }\n    }, {\n      key: \"handleMouseClick\",\n      value: function (e, t) {\n        if (\"string\" != typeof e && e.tagName) {\n          var a = (0, u.default)(e.innerText, [\"h:mm A\"]).format(\"HH\"),\n              n = parseInt(a),\n              r = new Date(),\n              i = new Date(r.getFullYear(), r.getMonth(), r.getDate(), n + 1, 0),\n              s = i.toISOString().substring(0, i.toISOString().length - 5);\n          if (this.props.onCellSelect) return this.props.onCellSelect(s, t);\n        }\n\n        this.props.onCellSelect && this.props.onCellSelect(e, t);\n      }\n    }, {\n      key: \"setMousePosition\",\n      value: function (e) {\n        var t = e || window.event;\n        t.pageX ? (_.x = t.pageX + window.pageXOffset, _.y = t.pageY + window.pageYOffset) : t.clientX && (_.x = t.clientX + document.body.scrollLeft, _.y = t.clientY + document.body.scrollTop);\n      }\n    }, {\n      key: \"handleMouseOver\",\n      value: function (e) {\n        if (this.setMousePosition(e), 0 === e.buttons) return !1;\n\n        if (e.preventDefault ? e.preventDefault() : e.returnValue = !1, this.removeSelection(), D && (D.style.width = Math.abs(_.x - _.startX) + \"px\", D.style.height = Math.abs(_.y - _.startY) + \"px\", D.style.left = _.x - _.startX < 0 ? _.x + \"px\" : _.startX + \"px\", D.style.top = _.y - _.startY < 0 ? _.y + \"px\" : _.startY + \"px\"), E && (E.style.left = _.x + \"px\", E.style.top = _.y - 10 + \"px\", e.target.classList.contains(\"agenda__cell\") && !e.target.classList.contains(\"--time\"))) {\n          var t = (0, u.default)(n),\n              a = (0, u.default)(e.target.id);\n          E.innerHTML = a.diff(t) > 0 ? t.format(\"LT\") + \" -- \" + a.format(\"LT\") : a.format(\"LT\") + \" -- \" + t.format(\"LT\");\n        }\n      }\n    }, {\n      key: \"removeSelection\",\n      value: function () {\n        for (var e = document.getElementsByClassName(\"agenda__cell_selected\"), t = e.length - 1; t >= 0; --t) e[t] && e[t].classList.remove(\"agenda__cell_selected\");\n      }\n    }, {\n      key: \"handleAllClickStarts\",\n      value: function (e, t) {\n        if (!0, this.removeSelection(), e.target.classList.contains(\"--time\") || e.target.classList.contains(\"--time-now\") && !g) return this.handleMouseClick(e.target);\n\n        if (e.target.classList.contains(\"agenda__cell\") && !e.target.classList.contains(\"--time\") && !g) {\n          if (this.removeSelection(), e.target.classList.toggle(\"agenda__cell_selected\"), n = e.target.id, 0 === e.buttons) return !1;\n          this.handleMouseClick(e.target.id), _.startX = _.x, _.startY = _.y, (D = document.createElement(\"div\")).className = \"rectangle\", D.style.left = _.x + \"px\", D.style.top = _.y + \"px\", document.body.appendChild(D), this.props.helper && ((E = document.createElement(\"div\")).className = \"helper-reactangle\", document.body.appendChild(E));\n        }\n      }\n    }, {\n      key: \"handleAllClickEnds\",\n      value: function (e, t) {\n        !1, g = !1, r = e.target.id;\n\n        for (var a = document.getElementsByClassName(\"rectangle\"), i = document.getElementsByClassName(\"helper-reactangle\"), s = a.length - 1; s >= 0; --s) a[s] && a[s].remove();\n\n        for (s = i.length - 1; s >= 0; --s) i[s] && i[s].remove();\n\n        if (D = null, E = null, n && r && n != r) return this.getSelection(n, r);\n      }\n    }, {\n      key: \"onDragStart\",\n      value: function (e) {\n        g = !0, !1, e.target.id, e.dataTransfer.setData(\"text/html\", e.target), e.dataTransfer.dropEffect = \"move\", e.dataTransfer.setDragImage(e.target, 0, 0);\n      }\n    }, {\n      key: \"onDragEnter\",\n      value: function (e) {\n        e.preventDefault(), g || this.removeSelection(), e.dataTransfer.dropEffect = \"move\", e.ctrlKey && (e.dataTransfer.effectAllowed = \"copy\", e.dataTransfer.dropEffect = \"copy\");\n      }\n    }, {\n      key: \"onDragOver\",\n      value: function (e) {\n        return e.preventDefault(), e.stopPropagation(), e.target.id !== m && (e.ctrlKey ? (e.dataTransfer.effectAllowed = \"copy\", y = !0) : e.dataTransfer.dropEffect = \"move\", e.target.classList.contains(\"cell-item\") ? m = e.target.parentNode.parentNode.id : e.target.classList.contains(\"handler\") ? m = e.target.parentNode.id : e.target.classList.contains(\"dragDiv\") ? m = e.target.parentNode.id : void (m = e.target.id));\n      }\n    }, {\n      key: \"dragEvent\",\n      value: function (e, t) {\n        if (this.props.onChangeEvent) {\n          var a,\n              n = t;\n\n          if (this.refs[t]) {\n            \"TD\" !== this.refs[t].tagName && (n = this.refs[t].parentNode.id);\n            var r = this.props.items;\n\n            if (e && n && r) {\n              for (var i in r) if (r[i]._id === e) {\n                var s = (0, u.default)(r[i].startDateTime),\n                    l = (0, u.default)(r[i].endDateTime),\n                    o = u.default.duration(l.diff(s)),\n                    d = (0, u.default)(n).subtract(o % (60 / this.state.rowsPerHour)),\n                    c = (0, u.default)(d).add(o);\n                r[i].startDateTime = new Date(d), r[i].endDateTime = new Date(c), a = r[i];\n                break;\n              }\n\n              this.props.onChangeEvent(r, a);\n            }\n          }\n        }\n      }\n    }, {\n      key: \"duplicateEvent\",\n      value: function (e, t) {\n        var a,\n            n = t;\n\n        if (this.refs[t]) {\n          \"TD\" !== this.refs[t].tagName && (n = this.refs[t].parentNode.id);\n          var r = this.props.items;\n          if (e && n && r) for (var i in r) if (r[i]._id === e) {\n            a = Object.assign({}, r[i], {\n              _id: (0, p.guid)()\n            });\n            var s = (0, u.default)(a.startDateTime),\n                l = (0, u.default)(a.endDateTime),\n                o = u.default.duration(l.diff(s)),\n                d = (0, u.default)(n),\n                c = (0, u.default)(d).add(o);\n            a.startDateTime = new Date(d), a.endDateTime = new Date(c), r.push(a), this.props.onChangeEvent && this.props.onChangeEvent(r, a);\n            break;\n          }\n        }\n      }\n    }, {\n      key: \"resizeEvent\",\n      value: function (e, t) {\n        if (this.props.onChangeDuration) {\n          var a = this.props.items;\n          if (e && t && a) for (var n in a) if (a[n]._id === e) {\n            if (new Date(t) - new Date(a[n].startDateTime) < 1) {\n              var r = new Date(a[n].startDateTime);\n              return a[n].endDateTime = new Date(r.getFullYear(), r.getMonth(), r.getDate(), r.getHours(), r.getMinutes() + 15, 0), this.setState({\n                items: a\n              }), this.props.onChangeDuration(a, a[n]);\n            }\n\n            var i = (0, u.default)(t);\n            return a[n].endDateTime = new Date(i), this.props.onChangeDuration(a, a[n]);\n          }\n        }\n      }\n    }, {\n      key: \"onDragEnd\",\n      value: function (e) {\n        var t = m;\n        y ? this.duplicateEvent(e.target.id, t) : this.dragEvent(e.target.id, t), g = !1, !1, y = !1, m = \"\", \"\";\n      }\n    }, {\n      key: \"onDragHandlerStart\",\n      value: function (e) {\n        g = !0, e.dataTransfer.setData(\"text/html\", e.target), e.dataTransfer.dropEffect = \"move\", e.dataTransfer.effectAllowed = \"all\";\n      }\n    }, {\n      key: \"onDragHandlerEnd\",\n      value: function (e, t) {\n        if (void 0 !== (void 0 === m ? \"undefined\" : i(m)) && \"\" !== m) {\n          var a = e.target.id || e.target.offsetParent.id;\n          if (this.refs[m] && this.refs[e.target.id] && \"DIV\" === this.refs[e.target.id].tagName && \"DIV\" === this.refs[m].tagName) return a = e.target.id, m = this.refs[m].parentNode.id, this.resizeEvent(a, m);\n\n          if (\"\" !== m || this.refs[m] || \"DIV\" !== this.refs[e.target.id].tagName) {\n            if (!this.refs[m] && m) {\n              var n = document.getElementById(m);\n              m = n.parentNode.id;\n            }\n\n            this.resizeEvent(a, m), g = !1, !1, m = \"\";\n          } else m = this.refs[e.target.id].parentNode.id;\n        }\n      }\n    }, {\n      key: \"getSelection\",\n      value: function (e, t) {\n        var a = (0, u.default)(e),\n            n = (0, u.default)(t).diff(a) > 0 ? [e, t] : [t, e];\n        this.props.onRangeSelection(n);\n      }\n    }, {\n      key: \"editEvent\",\n      value: function (e) {\n        this.props.onItemEdit && this.props.onItemEdit(e, !0);\n      }\n    }, {\n      key: \"removeEvent\",\n      value: function (e) {\n        var t = this.props.items.filter(function (t) {\n          return t._id !== e._id;\n        });\n        this.props.onItemRemove && this.props.onItemRemove(t, e);\n      }\n    }, {\n      key: \"render\",\n      value: function () {\n        var e,\n            t = this.props.itemColors,\n            a = this.props.itemComponent ? this.props.itemComponent : c.default,\n            n = function (e, n) {\n          var r = {\n            agenda__cell: !0\n          };\n          e.item.forEach(function (e) {\n            r[e.classes] = !0;\n          });\n          var i = (0, f.default)(r),\n              s = i.split(\" \");\n          s = (s = s.filter(function (e) {\n            return !e.includes(\"agenda__cell\");\n          })).filter(function (e) {\n            return !e.includes(\"undefined\");\n          });\n          var l = [];\n          s.forEach(function (e) {\n            e.length > 0 && l.push(t[e]);\n          });\n          var d = {\n            height: this.props.cellHeight + \"px\"\n          };\n          s.length > 1 && (l[1] === l[2] && l.splice(1, 0, \"rgb(255,255,255)\"), d = {\n            background: \"linear-gradient(-100deg,\" + (l = l.join(\" , \")) + \")\",\n            height: this.props.cellHeight + \"px\"\n          });\n          var u = e.item.map(function (n, r) {\n            var i = (0, p.getLast)(n.cellRefs),\n                s = (0, p.getFirst)(n.cellRefs);\n            return s === e.cellRef ? o.default.createElement(\"div\", {\n              id: n._id,\n              ref: e.cellRef,\n              key: r,\n              className: \"dragDiv\",\n              onDragStart: this.onDragStart,\n              onDragEnd: this.onDragEnd,\n              draggable: \"true\"\n            }, s === e.cellRef ? o.default.createElement(\"i\", {\n              className: \"drag-handle-icon\",\n              \"aria-hidden\": \"true\"\n            }) : \"\", s === e.cellRef ? o.default.createElement(a, {\n              item: n,\n              parent: e.cellRef,\n              itemColors: t,\n              edit: this.props.onItemEdit ? this.editEvent : null,\n              remove: this.props.onItemRemove ? this.removeEvent : null,\n              days: this.props.numberOfDays\n            }) : \"\") : i === e.cellRef && this.props.onChangeDuration ? o.default.createElement(\"div\", {\n              className: \"handler\",\n              style: {\n                marginLeft: 8 * (r + 1) + \"px\"\n              },\n              id: n._id,\n              key: n._id,\n              onDragStart: this.onDragHandlerStart,\n              onDragEnd: this.onDragHandlerEnd,\n              draggable: \"true\"\n            }, o.default.createElement(\"i\", {\n              className: \"resize-handle-icon\"\n            })) : \"\";\n          }.bind(this));\n          return o.default.createElement(\"td\", {\n            ref: e.cellRef,\n            key: \"cell-\" + n,\n            className: i,\n            style: d,\n            id: e.cellRef\n          }, u);\n        }.bind(this),\n            r = function (e, r) {\n          if (e.item[0] && !e.item._id) return n(e, r);\n          var i = {\n            agenda__cell: !0\n          };\n          if (i[e.item.classes] = !0, e.item.cellRefs) var s = (0, p.getLast)(e.item.cellRefs),\n              l = (0, p.getFirst)(e.item.cellRefs);\n          var d = (0, f.default)(i),\n              u = d.split(\" \");\n          u = (u = u.filter(function (e) {\n            return !e.includes(\"agenda__cell\");\n          })).filter(function (e) {\n            return !e.includes(\"undefined\");\n          });\n          var c = [];\n          u.forEach(function (e) {\n            e.length > 0 && c.push(t[e]);\n          });\n          var h = {\n            height: this.props.cellHeight + \"px\"\n          };\n          return u.length > 1 && (h = {\n            background: \"linear-gradient(to left,\" + (c = c.join(\" , \")) + \")\",\n            height: this.props.cellHeight + \"px\"\n          }), 1 == u.length && (h = {\n            background: c[0],\n            height: this.props.cellHeight + \"px\"\n          }), o.default.createElement(\"td\", {\n            ref: e.cellRef,\n            key: \"cell-\" + r,\n            className: d,\n            style: h,\n            id: e.cellRef\n          }, l === e.cellRef ? o.default.createElement(\"div\", {\n            id: e.item._id,\n            ref: e.item._id,\n            className: \"dragDiv\",\n            onDragStart: this.onDragStart,\n            onDragEnd: this.onDragEnd,\n            draggable: \"true\"\n          }, l === e.cellRef && this.props.onChangeEvent ? o.default.createElement(\"i\", {\n            className: \"drag-handle-icon\",\n            \"aria-hidden\": \"true\"\n          }) : \"\", l === e.cellRef ? o.default.createElement(a, {\n            item: e.item,\n            parent: e.cellRef,\n            itemColors: t,\n            edit: this.props.onItemEdit ? this.editEvent : null,\n            remove: this.props.onItemRemove ? this.removeEvent : null,\n            days: this.props.numberOfDays\n          }) : \"\") : \"\", s === e.cellRef && this.props.onChangeDuration ? o.default.createElement(\"div\", {\n            className: \"handler\",\n            id: e.item._id,\n            onDragStart: this.onDragHandlerStart,\n            onDragEnd: this.onDragHandlerEnd,\n            draggable: \"true\"\n          }, o.default.createElement(\"i\", {\n            className: \"resize-handle-icon\"\n          })) : \"\");\n        };\n\n        return o.default.createElement(\"div\", {\n          className: \"agenda\",\n          id: \"agenda-wrapper\"\n        }, o.default.createElement(\"div\", {\n          className: \"agenda__table --header\"\n        }, o.default.createElement(\"table\", null, o.default.createElement(\"thead\", null, o.default.createElement(\"tr\", null, o.default.createElement(\"th\", {\n          ref: \"column-0\",\n          className: \"agenda__cell --controls\"\n        }, o.default.createElement(\"div\", {\n          className: \"agenda-controls-layout\"\n        }, o.default.createElement(\"button\", {\n          className: \"agenda__prev\" + (e = this.state, e.hasOwnProperty(\"minDate\") && e.date.toDate().getTime() === e.minDate.toDate().getTime() ? \" --disabled\" : \"\"),\n          onClick: this.handleOnPrevButtonClick\n        }), o.default.createElement(\"button\", {\n          className: \"agenda__next\" + (function (e) {\n            return !!e.hasOwnProperty(\"maxDate\") && e.date.toDate().getTime() === e.maxDate.toDate().getTime();\n          }(this.state) ? \" --disabled\" : \"\"),\n          onClick: this.handleOnNextButtonClick\n        }))), this.getHeaderColumns(this.props.view).map(function (e, t) {\n          var a = (0, u.default)(e);\n          return a.locale(this.props.locale), o.default.createElement(\"th\", {\n            ref: \"column-\" + (t + 1),\n            key: \"col-\" + t,\n            className: \"agenda__cell --head\"\n          }, this.props.headFormat ? a.format(this.props.headFormat) : a.format(\"dddd DD MMM YY\"));\n        }, this))))), o.default.createElement(\"div\", {\n          ref: \"agendaScrollContainer\",\n          className: \"agenda__table --body\",\n          style: {\n            position: \"relative\"\n          }\n        }, o.default.createElement(\"table\", {\n          cellSpacing: \"0\",\n          cellPadding: \"0\"\n        }, o.default.createElement(\"tbody\", {\n          onMouseDown: this.handleAllClickStarts,\n          onDragEnter: this.onDragEnter,\n          onDragOver: this.onDragOver,\n          onMouseUp: this.handleAllClickEnds,\n          onMouseOver: this.handleMouseOver\n        }, this.getBodyRows().map(function (e, t) {\n          if (t % this.props.rowsPerHour == 0) {\n            var a = \"hour-\" + Math.floor(t / this.props.rowsPerHour),\n                n = (0, u.default)(e),\n                i = n.diff(v, \"minutes\");\n            return n.locale(this.props.locale), o.default.createElement(\"tr\", {\n              key: \"row-\" + t,\n              ref: a,\n              draggable: !1,\n              className: \"agenda__row   --hour-start\"\n            }, o.default.createElement(\"td\", {\n              className: i <= 60 && i >= 0 ? \"disable-select agenda__cell --time-now\" : \"disable-select agenda__cell --time\",\n              rowSpan: this.props.rowsPerHour\n            }, n.format(\"LT\")), this.getMinuteCells(e).map(r, this));\n          }\n\n          return o.default.createElement(\"tr\", {\n            key: \"row-\" + t\n          }, this.getMinuteCells(e).map(r, this));\n        }, this)))));\n      }\n    }]), t;\n  }();\n\n  t.default = C, C.propTypes = {\n    minDate: d.default.instanceOf(Date),\n    maxDate: d.default.instanceOf(Date),\n    startDate: d.default.instanceOf(Date),\n    startAtTime: d.default.number,\n    endAtTime: d.default.number,\n    cellHeight: d.default.number,\n    view: d.default.string,\n    locale: d.default.string,\n    items: d.default.array,\n    helper: d.default.bool,\n    itemComponent: d.default.element,\n    numberOfDays: d.default.number,\n    headFormat: d.default.string,\n    rowsPerHour: d.default.number,\n    itemColors: d.default.object,\n    fixedHeader: d.default.bool,\n    autoScaleNumber: d.default.bool\n  }, C.defaultProps = {\n    minDate: new Date(),\n    maxDate: new Date(new Date().getFullYear(), new Date().getMonth() + 3),\n    startDate: new Date(),\n    startAtTime: 0,\n    endAtTime: 0,\n    cellHeight: 15,\n    view: \"agenda\",\n    locale: \"en\",\n    helper: !0,\n    items: [],\n    autoScale: !1,\n    itemComponent: c.default,\n    numberOfDays: 4,\n    headFormat: \"ddd DD MMM\",\n    rowsPerHour: 4,\n    itemColors: {\n      \"color-1\": \"rgba(102, 195, 131 , 1)\",\n      \"color-2\": \"rgba(242, 177, 52, 1)\",\n      \"color-3\": \"rgba(235, 85, 59, 1)\",\n      \"color-4\": \"rgba(70, 159, 213, 1)\"\n    },\n    fixedHeader: !0\n  };\n}, function (e, t, a) {\n  \"use strict\";\n\n  var n = a(7);\n\n  function r() {}\n\n  e.exports = function () {\n    function e(e, t, a, r, i, s) {\n      if (s !== n) {\n        var l = new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");\n        throw l.name = \"Invariant Violation\", l;\n      }\n    }\n\n    function t() {\n      return e;\n    }\n\n    e.isRequired = e;\n    var a = {\n      array: e,\n      bool: e,\n      func: e,\n      number: e,\n      object: e,\n      string: e,\n      symbol: e,\n      any: e,\n      arrayOf: t,\n      element: e,\n      instanceOf: t,\n      node: e,\n      objectOf: t,\n      oneOf: t,\n      oneOfType: t,\n      shape: t,\n      exact: t\n    };\n    return a.checkPropTypes = r, a.PropTypes = a, a;\n  };\n}, function (e, t, a) {\n  \"use strict\";\n\n  e.exports = \"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\";\n}, function (e, t, a) {\n  \"use strict\";\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n\n  var n = function () {\n    function e(e, t) {\n      for (var a = 0; a < t.length; a++) {\n        var n = t[a];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    return function (t, a, n) {\n      return a && e(t.prototype, a), n && e(t, n), t;\n    };\n  }(),\n      r = o(a(2)),\n      i = o(a(1)),\n      s = a(0),\n      l = o(s);\n\n  a(3);\n\n  function o(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n\n  a(15);\n\n  var d = function (e) {\n    function t(e) {\n      !function (e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }(this, t);\n\n      var a = function (e, t) {\n        if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n      }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));\n\n      return a.state = {\n        wrapper: {\n          width: \"150px\",\n          marginLeft: \"0px\",\n          zIndex: 5,\n          borderLeft: null\n        },\n        controls: {}\n      }, a.updateDimensions = a.updateDimensions.bind(a), a.raiseZindex = a.raiseZindex.bind(a), a.lowerZindex = a.lowerZindex.bind(a), a;\n    }\n\n    return function (e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          enumerable: !1,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n    }(t, s.Component), n(t, [{\n      key: \"updateDimensions\",\n      value: function () {\n        var e = document.getElementById(this.props.parent);\n\n        if (e) {\n          var t = e.offsetWidth / 1.4,\n              a = this.props.padder > 0 ? t / 5 + 8 * this.props.padder : t / 5;\n          return this.setState({\n            wrapper: {\n              width: t + \"px\",\n              marginLeft: a + \"px\",\n              marginTop: 8 * this.props.padder + \"px\",\n              zIndex: 5\n            }\n          });\n        }\n      }\n    }, {\n      key: \"componentWillReceiveProps\",\n      value: function (e, t) {\n        setTimeout(function () {\n          this.updateDimensions();\n        }.bind(this), 50);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function () {\n        window.addEventListener(\"resize\", this.updateDimensions), this.updateDimensions();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function () {\n        window.removeEventListener(\"resize\", this.updateDimensions);\n      }\n    }, {\n      key: \"lowerZindex\",\n      value: function (e) {\n        var t = this.state.wrapper;\n\n        if (8 === t.zIndex) {\n          var a = {\n            wrapper: Object.assign({}, t, {\n              zIndex: 5\n            })\n          };\n          return this.setState(a);\n        }\n      }\n    }, {\n      key: \"raiseZindex\",\n      value: function (e) {\n        var t = this.state.wrapper;\n\n        if (5 === t.zIndex) {\n          var a = {\n            wrapper: Object.assign({}, t, {\n              zIndex: 8\n            })\n          };\n          return this.setState(a);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function () {\n        var e = this,\n            t = r.default.duration(this.props.item.duration._milliseconds, \"Milliseconds\").humanize(),\n            a = (0, r.default)(this.props.item.startDateTime).format(\"HH:mm\"),\n            n = (0, r.default)(this.props.item.endDateTime).format(\"HH:mm\");\n        return l.default.createElement(\"div\", {\n          style: this.state.wrapper,\n          className: \"agenda-cell-item\",\n          onMouseEnter: this.raiseZindex,\n          onMouseLeave: this.lowerZindex\n        }, l.default.createElement(\"div\", {\n          className: \"agenda-controls-item\",\n          style: this.state.controls\n        }, this.props.edit ? l.default.createElement(\"div\", {\n          className: \"agenda-edit-event\"\n        }, l.default.createElement(\"a\", {\n          onClick: function () {\n            return e.props.edit(e.props.item);\n          },\n          className: \"agenda-edit-modele\"\n        }, l.default.createElement(\"i\", {\n          className: \"edit-item-icon\"\n        }))) : \"\", this.props.remove ? l.default.createElement(\"div\", {\n          className: \"agenda-delete-event\"\n        }, l.default.createElement(\"a\", {\n          onClick: function () {\n            return e.props.remove(e.props.item);\n          },\n          className: \"agenda-delete-modele\"\n        }, l.default.createElement(\"i\", {\n          className: \"remove-item-icon\"\n        }))) : \"\"), l.default.createElement(\"div\", {\n          className: \"agenda-item-description\"\n        }, l.default.createElement(\"section\", null, this.props.item.name), l.default.createElement(\"small\", null, \", \", a, \" - \", n, \" , \", t)));\n      }\n    }]), t;\n  }();\n\n  t.default = d, d.propTypes = {\n    parent: i.default.string,\n    item: i.default.object,\n    padder: i.default.number,\n    edit: i.default.func,\n    remove: i.default.func\n  }, d.defaultProps = {\n    parent: \"body\",\n    item: {},\n    padder: 0\n  };\n}, function (e, t, a) {\n  var n;\n  /*!\n    Copyright (c) 2017 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n\n  /*!\n    Copyright (c) 2017 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n\n  !function () {\n    \"use strict\";\n\n    var a = {}.hasOwnProperty;\n\n    function r() {\n      for (var e = [], t = 0; t < arguments.length; t++) {\n        var n = arguments[t];\n\n        if (n) {\n          var i = typeof n;\n          if (\"string\" === i || \"number\" === i) e.push(n);else if (Array.isArray(n) && n.length) {\n            var s = r.apply(null, n);\n            s && e.push(s);\n          } else if (\"object\" === i) for (var l in n) a.call(n, l) && n[l] && e.push(l);\n        }\n      }\n\n      return e.join(\" \");\n    }\n\n    e.exports ? (r.default = r, e.exports = r) : void 0 === (n = function () {\n      return r;\n    }.apply(t, [])) || (e.exports = n);\n  }();\n}, function (e, t, a) {\n  \"use strict\";\n\n  var n;\n  !function (e) {\n    var t = function () {\n      function e() {\n        this._dropEffect = \"move\", this._effectAllowed = \"all\", this._data = {};\n      }\n\n      return Object.defineProperty(e.prototype, \"dropEffect\", {\n        get: function () {\n          return this._dropEffect;\n        },\n        set: function (e) {\n          this._dropEffect = e;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"effectAllowed\", {\n        get: function () {\n          return this._effectAllowed;\n        },\n        set: function (e) {\n          this._effectAllowed = e;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"types\", {\n        get: function () {\n          return Object.keys(this._data);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), e.prototype.clearData = function (e) {\n        null != e ? delete this._data[e] : this._data = null;\n      }, e.prototype.getData = function (e) {\n        return this._data[e] || \"\";\n      }, e.prototype.setData = function (e, t) {\n        this._data[e] = t;\n      }, e.prototype.setDragImage = function (e, t, n) {\n        var r = a._instance;\n        r._imgCustom = e, r._imgOffset = {\n          x: t,\n          y: n\n        };\n      }, e;\n    }();\n\n    e.DataTransfer = t;\n\n    var a = function () {\n      function e() {\n        if (this._lastClick = 0, e._instance) throw \"DragDropTouch instance already created.\";\n\n        if (\"ontouchstart\" in document) {\n          var t = document,\n              a = this._touchstart.bind(this),\n              n = this._touchmove.bind(this),\n              r = this._touchend.bind(this);\n\n          t.addEventListener(\"touchstart\", a), t.addEventListener(\"touchmove\", n), t.addEventListener(\"touchend\", r), t.addEventListener(\"touchcancel\", r);\n        }\n      }\n\n      return e.getInstance = function () {\n        return e._instance;\n      }, e.prototype._touchstart = function (t) {\n        var a = this;\n\n        if (this._shouldHandle(t)) {\n          if (Date.now() - this._lastClick < e._DBLCLICK && this._dispatchEvent(t, \"dblclick\", t.target)) return t.preventDefault(), void this._reset();\n\n          this._reset();\n\n          var n = this._closestDraggable(t.target);\n\n          n && (this._dispatchEvent(t, \"mousemove\", t.target) || this._dispatchEvent(t, \"mousedown\", t.target) || (this._dragSource = n, this._ptDown = this._getPoint(t), this._lastTouch = t, t.preventDefault(), setTimeout(function () {\n            a._dragSource == n && null == a._img && a._dispatchEvent(t, \"contextmenu\", n) && a._reset();\n          }, e._CTXMENU)));\n        }\n      }, e.prototype._touchmove = function (t) {\n        if (this._shouldHandle(t)) {\n          var a = this._getTarget(t);\n\n          if (this._dispatchEvent(t, \"mousemove\", a)) return this._lastTouch = t, void t.preventDefault();\n          if (this._dragSource && !this._img) this._getDelta(t) > e._THRESHOLD && (this._dispatchEvent(t, \"dragstart\", this._dragSource), this._createImage(t), this._dispatchEvent(t, \"dragenter\", a));\n          this._img && (this._lastTouch = t, t.preventDefault(), a != this._lastTarget && (this._dispatchEvent(this._lastTouch, \"dragleave\", this._lastTarget), this._dispatchEvent(t, \"dragenter\", a), this._lastTarget = a), this._moveImage(t), this._dispatchEvent(t, \"dragover\", a));\n        }\n      }, e.prototype._touchend = function (e) {\n        if (this._shouldHandle(e)) {\n          if (this._dispatchEvent(this._lastTouch, \"mouseup\", e.target)) return void e.preventDefault();\n          this._img || (this._dragSource = null, this._dispatchEvent(this._lastTouch, \"click\", e.target), this._lastClick = Date.now()), this._destroyImage(), this._dragSource && (e.type.indexOf(\"cancel\") < 0 && this._dispatchEvent(this._lastTouch, \"drop\", this._lastTarget), this._dispatchEvent(this._lastTouch, \"dragend\", this._dragSource), this._reset());\n        }\n      }, e.prototype._shouldHandle = function (e) {\n        return e && !e.defaultPrevented && e.touches && e.touches.length < 2;\n      }, e.prototype._reset = function () {\n        this._destroyImage(), this._dragSource = null, this._lastTouch = null, this._lastTarget = null, this._ptDown = null, this._dataTransfer = new t();\n      }, e.prototype._getPoint = function (e, t) {\n        return e && e.touches && (e = e.touches[0]), {\n          x: t ? e.pageX : e.clientX,\n          y: t ? e.pageY : e.clientY\n        };\n      }, e.prototype._getDelta = function (e) {\n        var t = this._getPoint(e);\n\n        return Math.abs(t.x - this._ptDown.x) + Math.abs(t.y - this._ptDown.y);\n      }, e.prototype._getTarget = function (e) {\n        for (var t = this._getPoint(e), a = document.elementFromPoint(t.x, t.y); a && \"none\" == getComputedStyle(a).pointerEvents;) a = a.parentElement;\n\n        return a;\n      }, e.prototype._createImage = function (t) {\n        this._img && this._destroyImage();\n        var a = this._imgCustom || this._dragSource;\n\n        if (this._img = a.cloneNode(!0), this._copyStyle(a, this._img), this._img.style.top = this._img.style.left = \"-9999px\", this._img.style[\"-webkit-transform\"] = \"translateX(-9999px) translateY(-9999px)\", !this._imgCustom) {\n          var n = a.getBoundingClientRect(),\n              r = this._getPoint(t);\n\n          this._imgOffset = {\n            x: r.x - n.left,\n            y: r.y - n.top\n          }, this._img.style.opacity = e._OPACITY.toString();\n        }\n\n        this._moveImage(t), document.body.appendChild(this._img);\n      }, e.prototype._destroyImage = function () {\n        this._img && this._img.parentElement && this._img.parentElement.removeChild(this._img), this._img = null, this._imgCustom = null;\n      }, e.prototype._moveImage = function (e) {\n        var t = this;\n        requestAnimationFrame(function () {\n          var a = t._getPoint(e, !0),\n              n = t._img.style;\n\n          n.position = \"fixed\", n.pointerEvents = \"none\", n.zIndex = \"999999\", n.top = n.left = \"0px\";\n          Math.round(a.x - t._imgOffset.x), Math.round(a.y - t._imgOffset.y);\n        });\n      }, e.prototype._copyProps = function (e, t, a) {\n        for (var n = 0; n < a.length; n++) {\n          var r = a[n];\n          e[r] = t[r];\n        }\n      }, e.prototype._copyStyle = function (t, a) {\n        if (e._rmvAtts.forEach(function (e) {\n          a.removeAttribute(e);\n        }), t instanceof HTMLCanvasElement) {\n          var n = t,\n              r = a;\n          r.width = n.width, r.height = n.height, r.getContext(\"2d\").drawImage(n, 0, 0);\n        }\n\n        for (var i = getComputedStyle(t), s = 0; s < i.length; s++) {\n          var l = i[s];\n          a.style[l] = i[l];\n        }\n\n        a.style.pointerEvents = \"none\";\n\n        for (s = 0; s < t.children.length; s++) this._copyStyle(t.children[s], a.children[s]);\n      }, e.prototype._dispatchEvent = function (t, a, n) {\n        if (t && n) {\n          var r = document.createEvent(\"Event\"),\n              i = t.touches ? t.touches[0] : t;\n          return r.initEvent(a, !0, !0), r.button = 0, r.which = r.buttons = 1, this._copyProps(r, t, e._kbdProps), this._copyProps(r, i, e._ptProps), r.dataTransfer = this._dataTransfer, n.dispatchEvent(r), r.defaultPrevented;\n        }\n\n        return !1;\n      }, e.prototype._closestDraggable = function (e) {\n        for (; e; e = e.parentElement) if (e.hasAttribute(\"draggable\")) return e;\n\n        return null;\n      }, e._instance = new e(), e._THRESHOLD = 5, e._OPACITY = .5, e._DBLCLICK = 500, e._CTXMENU = 900, e._rmvAtts = \"id,class,style,draggable\".split(\",\"), e._kbdProps = \"altKey,ctrlKey,metaKey,shiftKey\".split(\",\"), e._ptProps = \"pageX,pageY,clientX,clientY,screenX,screenY\".split(\",\"), e;\n    }();\n\n    e.DragDropTouch = a;\n  }(n || (n = {}));\n}, function (e, t, a) {\n  \"use strict\";\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n\n  var n = function () {\n    function e(e, t) {\n      for (var a = 0; a < t.length; a++) {\n        var n = t[a];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    return function (t, a, n) {\n      return a && e(t.prototype, a), n && e(t, n), t;\n    };\n  }(),\n      r = a(0),\n      i = u(r),\n      s = u(a(1)),\n      l = u(a(2)),\n      o = a(3),\n      d = u(a(12));\n\n  function u(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n\n  a(20);\n\n  var c = new Date(),\n      f = function (e) {\n    function t() {\n      !function (e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }(this, t);\n\n      var e = function (e, t) {\n        if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n      }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));\n\n      return e.state = {\n        editMode: !1,\n        showCtrl: !1,\n        multiple: {},\n        name: \"\",\n        classes: \"priority-1\",\n        startDateTime: c,\n        endDateTime: c\n      }, e.handleDateChange = e.handleDateChange.bind(e), e.addEvent = e.addEvent.bind(e), e.updateEvent = e.updateEvent.bind(e), e.dispatchEvent = e.dispatchEvent.bind(e), e.handleSubmit = e.handleSubmit.bind(e), e.handleEdit = e.handleEdit.bind(e), e;\n    }\n\n    return function (e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          enumerable: !1,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n    }(t, r.Component), n(t, [{\n      key: \"componentDidMount\",\n      value: function () {\n        if (this.props.itemColors && this.setState({\n          classes: Object.keys(this.props.itemColors)[0]\n        }), setTimeout(function () {\n          this.refs.eventName && this.refs.eventName.focus();\n        }.bind(this), 50), !this.props.selectedCells) {\n          var e = c,\n              t = (0, l.default)(c).add(15, \"Minutes\");\n          return this.setState({\n            editMode: !1,\n            name: \"\",\n            startDateTime: e,\n            endDateTime: t\n          });\n        }\n\n        if (this.props.selectedCells && this.props.selectedCells[0] && this.props.selectedCells[0]._id) {\n          var a = (0, l.default)(this.props.selectedCells[0].startDateTime),\n              n = (0, l.default)(this.props.selectedCells[0].endDateTime);\n          return this.setState({\n            editMode: !0,\n            name: this.props.selectedCells[0].name,\n            classes: this.props.selectedCells[0].classes,\n            startDateTime: a,\n            endDateTime: n\n          });\n        }\n\n        if (this.props.selectedCells && 1 === this.props.selectedCells.length) {\n          var r = (0, l.default)((0, o.getFirst)(this.props.selectedCells)),\n              i = (0, l.default)((0, o.getLast)(this.props.selectedCells)).add(15, \"Minutes\");\n          return this.setState({\n            editMode: !1,\n            name: \"\",\n            startDateTime: r,\n            endDateTime: i\n          });\n        }\n\n        if (this.props.selectedCells && this.props.selectedCells.length > 0) {\n          var s = (0, l.default)((0, o.getFirst)(this.props.selectedCells)),\n              d = (0, l.default)((0, o.getLast)(this.props.selectedCells)) || c;\n          this.setState({\n            editMode: !1,\n            name: \"\",\n            startDateTime: s,\n            endDateTime: d\n          });\n        }\n      }\n    }, {\n      key: \"handleChange\",\n      value: function (e) {\n        \"BUTTON\" === e.target.tagName && e.preventDefault();\n        var t = this.state;\n        t[e.target.name] = e.target.value, this.setState(t);\n      }\n    }, {\n      key: \"handleDateChange\",\n      value: function (e, t) {\n        var a = (0, l.default)(this.state.endDateTime),\n            n = this.state;\n        n[e] = t, \"startDateTime\" === e && a.diff(t) < 0 && (n.endDateTime = (0, l.default)(t).add(15, \"minutes\")), this.setState(n);\n      }\n    }, {\n      key: \"dispatchEvent\",\n      value: function (e) {\n        var t = [],\n            a = this.props.items;\n\n        if (e.multiple) {\n          var n = e.multiple;\n          return Object.keys(n).forEach(function (r) {\n            var i = n[r].filter(function (e, t) {\n              return n[r].indexOf(e) == t;\n            }),\n                s = i[0],\n                l = i[i.length - 1] || c,\n                d = {\n              _id: (0, o.guid)(),\n              name: e.name,\n              startDateTime: new Date(s),\n              endDateTime: new Date(l),\n              classes: e.classes\n            };\n            a.push(d), t.push(d);\n          }.bind(this)), this.props.Addnew(a, t);\n        }\n\n        e._id = (0, o.guid)(), a.push(e), this.props.Addnew(a, e);\n      }\n    }, {\n      key: \"addEvent\",\n      value: function (e) {\n        if (!(this.state.name.length < 1)) {\n          if (this.props.selectedCells && this.props.selectedCells.length > 0) {\n            var t = this.props.selectedCells.reduce(function (e, t, a, n) {\n              var r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : t.substring(0, 10);\n              return (e[r] = e[r] || []).push(t), e;\n            }, {});\n\n            if (Object.values(t).length > 1) {\n              var a = {\n                name: this.state.name,\n                startDateTime: new Date(this.state.startDateTime),\n                endDateTime: new Date(this.state.endDateTime),\n                classes: this.state.classes,\n                multiple: t\n              };\n              return this.dispatchEvent(a);\n            }\n          }\n\n          a = {\n            name: this.state.name,\n            startDateTime: new Date(this.state.startDateTime),\n            endDateTime: new Date(this.state.endDateTime),\n            classes: this.state.classes\n          };\n          this.dispatchEvent(a);\n        }\n      }\n    }, {\n      key: \"updateEvent\",\n      value: function (e) {\n        if (this.props.selectedCells[0]._id && this.props.items) {\n          for (var t = {\n            _id: this.props.selectedCells[0]._id,\n            name: this.state.name,\n            startDateTime: new Date(this.state.startDateTime),\n            endDateTime: new Date(this.state.endDateTime),\n            classes: this.state.classes\n          }, a = this.props.items, n = 0; n < a.length; n++) a[n]._id === t._id && (a[n] = t);\n\n          this.props.edit && this.props.edit(a, t);\n        }\n      }\n    }, {\n      key: \"handleSubmit\",\n      value: function (e) {\n        e.preventDefault(), this.addEvent(e);\n      }\n    }, {\n      key: \"handleEdit\",\n      value: function (e) {\n        e.preventDefault(), this.updateEvent(e);\n      }\n    }, {\n      key: \"render\",\n      value: function () {\n        var e = Object.keys(this.props.itemColors).map(function (e, t) {\n          return i.default.createElement(\"div\", {\n            style: {\n              background: this.props.itemColors[e]\n            },\n            className: \"agendCtrls-radio-buttons\",\n            key: e\n          }, i.default.createElement(\"button\", {\n            name: \"classes\",\n            value: e,\n            className: this.state.classes === e ? \"agendCtrls-radio-button--checked\" : \"agendCtrls-radio-button\",\n            onClick: this.handleChange.bind(this)\n          }));\n        }.bind(this)),\n            t = {};\n\n        if (this.state.editMode) {\n          this.props.selectedCells[0];\n          return i.default.createElement(\"div\", {\n            className: \"agendCtrls-wrapper\",\n            style: t\n          }, i.default.createElement(\"form\", {\n            onSubmit: this.handleEdit\n          }, i.default.createElement(\"div\", {\n            className: \"agendCtrls-label-wrapper\"\n          }, i.default.createElement(\"div\", {\n            className: \"agendCtrls-label-inline\"\n          }, i.default.createElement(\"label\", null, \"Event name\"), i.default.createElement(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            autoFocus: !0,\n            ref: \"eventName\",\n            className: \"agendCtrls-event-input\",\n            value: this.state.name,\n            onChange: this.handleChange.bind(this),\n            placeholder: \"Event Name\"\n          })), i.default.createElement(\"div\", {\n            className: \"agendCtrls-label-inline \"\n          }, i.default.createElement(\"label\", null, \"Color\"), i.default.createElement(\"div\", {\n            className: \"agendCtrls-radio-wrapper\"\n          }, e))), i.default.createElement(\"div\", {\n            className: \"agendCtrls-timePicker-wrapper\"\n          }, i.default.createElement(\"div\", {\n            className: \"agendCtrls-time-picker\"\n          }, i.default.createElement(\"label\", null, \"Start Date\"), i.default.createElement(d.default, {\n            value: this.state.startDateTime,\n            onChange: this.handleDateChange.bind(null, \"startDateTime\"),\n            input: !1,\n            viewMode: \"time\"\n          })), i.default.createElement(\"div\", {\n            className: \"agendCtrls-time-picker\"\n          }, i.default.createElement(\"label\", null, \"End Date\"), i.default.createElement(d.default, {\n            value: this.state.endDateTime,\n            onChange: this.handleDateChange.bind(null, \"endDateTime\"),\n            input: !1,\n            viewMode: \"time\"\n          }))), i.default.createElement(\"input\", {\n            type: \"submit\",\n            value: \"Save\"\n          })));\n        }\n\n        return i.default.createElement(\"div\", {\n          className: \"agendCtrls-wrapper\",\n          style: t\n        }, i.default.createElement(\"form\", {\n          onSubmit: this.handleSubmit\n        }, i.default.createElement(\"div\", {\n          className: \"agendCtrls-label-wrapper\"\n        }, i.default.createElement(\"div\", {\n          className: \"agendCtrls-label-inline\"\n        }, i.default.createElement(\"label\", null, \"Event name\"), i.default.createElement(\"input\", {\n          type: \"text\",\n          ref: \"eventName\",\n          autoFocus: !0,\n          name: \"name\",\n          className: \"agendCtrls-event-input\",\n          value: this.state.name,\n          onChange: this.handleChange.bind(this),\n          placeholder: \"Event Name\"\n        })), i.default.createElement(\"div\", {\n          className: \"agendCtrls-label-inline\"\n        }, i.default.createElement(\"label\", null, \"Color\"), i.default.createElement(\"div\", {\n          className: \"agendCtrls-radio-wrapper\"\n        }, e))), i.default.createElement(\"div\", {\n          className: \"agendCtrls-timePicker-wrapper\"\n        }, i.default.createElement(\"div\", {\n          className: \"agendCtrls-time-picker\"\n        }, i.default.createElement(\"label\", null, \"Start Date\"), i.default.createElement(d.default, {\n          value: this.state.startDateTime,\n          onChange: this.handleDateChange.bind(null, \"startDateTime\"),\n          input: !1,\n          viewMode: \"time\"\n        })), i.default.createElement(\"div\", {\n          className: \"agendCtrls-time-picker\"\n        }, i.default.createElement(\"label\", null, \"End Date\"), i.default.createElement(d.default, {\n          value: this.state.endDateTime,\n          onChange: this.handleDateChange.bind(null, \"endDateTime\"),\n          input: !1,\n          viewMode: \"time\"\n        }))), i.default.createElement(\"input\", {\n          type: \"submit\",\n          value: \"Save\"\n        })));\n      }\n    }]), t;\n  }();\n\n  t.default = f, f.propTypes = {\n    items: s.default.array,\n    itemColors: s.default.object,\n    selectedCells: s.default.array,\n    edit: s.default.func,\n    Addnew: s.default.func\n  }, f.defaultProps = {\n    items: [],\n    itemColors: {},\n    selectedCells: []\n  };\n}, function (e, t) {\n  e.exports = require(\"react-datetime\");\n}, function (e, t, a) {\n  \"use strict\";\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n\n  var n = function () {\n    function e(e, t) {\n      for (var a = 0; a < t.length; a++) {\n        var n = t[a];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    return function (t, a, n) {\n      return a && e(t.prototype, a), n && e(t, n), t;\n    };\n  }(),\n      r = a(0),\n      i = o(r),\n      s = o(a(14)),\n      l = o(a(1));\n\n  function o(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n\n  function d(e, t) {\n    if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n  }\n\n  function u(e, t) {\n    if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n  }\n\n  function c(e, t) {\n    if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n    e.prototype = Object.create(t && t.prototype, {\n      constructor: {\n        value: e,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n  }\n\n  var f = function (e) {\n    function t() {\n      return d(this, t), u(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));\n    }\n\n    return c(t, r.Component), n(t, [{\n      key: \"render\",\n      value: function () {\n        return this.props.frameless ? i.default.createElement(\"div\", {\n          className: \"modal-nude  box-card\"\n        }, i.default.createElement(\"a\", {\n          onClick: this.props.closeFunc,\n          className: \"modal-close\"\n        }, \"X\"), i.default.createElement(\"div\", {\n          className: \"modal-title\"\n        }, \" \", this.props.title), this.props.children) : i.default.createElement(\"div\", {\n          className: \"modal  box-card\"\n        }, i.default.createElement(\"a\", {\n          onClick: this.props.closeFunc,\n          className: \"modal-close\"\n        }, \"X\"), i.default.createElement(\"div\", {\n          className: \"modal-title\"\n        }, \" \", this.props.title), this.props.children);\n      }\n    }]), t;\n  }();\n\n  f.propTypes = {\n    title: l.default.string,\n    frameless: l.default.bool,\n    children: l.default.element,\n    closeFunc: l.default.func\n  }, f.defaultProps = {\n    title: \"\",\n    frameless: !1\n  };\n\n  var p = function (e) {\n    function t(e) {\n      d(this, t);\n      var a = u(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));\n      return a.clickedOutside = a.clickedOutside.bind(a), a.closeFunc = a.closeFunc.bind(a), a;\n    }\n\n    return c(t, r.Component), n(t, [{\n      key: \"componentDidMount\",\n      value: function () {\n        this.modalWrapperTarget = document.createElement(\"div\"), this.modalWrapperTarget.className = \"modal-wrapper\", this.modalWrapperTarget.addEventListener(\"click\", this.clickedOutside), this.modalWrapperTarget.addEventListener(\"click\", this.clickedOutside), this.modalWrapperTarget.addEventListener(\"keydown\", this.clickedOutside, !0), document.body.appendChild(this.modalWrapperTarget), this._render();\n      }\n    }, {\n      key: \"clickedOutside\",\n      value: function (e) {\n        if (\"Escape\" == e.key || \"Esc\" == e.key || 27 == e.keyCode) return e.preventDefault(), this.props.clickOutside(e), !1;\n        this.props.clickOutside && e.target.classList.contains(\"modal-wrapper\") && this.props.clickOutside(e);\n      }\n    }, {\n      key: \"closeFunc\",\n      value: function (e) {\n        this.props.clickOutside && this.props.clickOutside(e);\n      }\n    }, {\n      key: \"_render\",\n      value: function () {\n        s.default.render(i.default.createElement(f, {\n          children: this.props.children,\n          closeFunc: this.closeFunc,\n          title: this.props.title,\n          frameless: this.props.frameless\n        }), this.modalWrapperTarget);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function () {\n        this._render();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function () {\n        this.modalWrapperTarget.removeEventListener(\"click\", this.clickedOutside), this.modalWrapperTarget.removeEventListener(\"keydown\", this.clickedOutside), s.default.unmountComponentAtNode(this.modalWrapperTarget), document.body.removeChild(this.modalWrapperTarget);\n      }\n    }, {\n      key: \"render\",\n      value: function () {\n        return i.default.createElement(\"noscript\", null);\n      }\n    }]), t;\n  }();\n\n  t.default = p, p.propTypes = {\n    title: l.default.string,\n    frameless: l.default.bool,\n    children: l.default.element,\n    closeFunc: l.default.func\n  }, p.defaultProps = {\n    title: \"\",\n    frameless: !1\n  };\n}, function (e, t) {\n  e.exports = require(\"react-dom\");\n}, function (e, t) {},,,,, function (e, t) {},, function (e, t) {}]);","map":null,"metadata":{},"sourceType":"script"}